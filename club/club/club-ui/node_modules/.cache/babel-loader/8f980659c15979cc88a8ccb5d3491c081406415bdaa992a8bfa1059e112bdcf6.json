{"ast":null,"code":"import{Button,Col,Form,Input,Row}from\"antd\";import OrganizationsDropdown from\"components/filterDropdowns/organizationsDropdown/OrganizationsDropdown\";import{useEffect,useState}from\"react\";import{useTranslation}from\"react-i18next\";import{Rest}from\"utils/utils\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const LocationsFilter=props=>{const[form]=Form.useForm();const{t}=useTranslation(\"locationsFilter\");const[organizations,setOrganizations]=useState();const[loaded,setLoaded]=useState();const[idOrganizationSelected,setIdOrganizationSelected]=useState(undefined);useEffect(()=>{loadOrganizations();},[]);const resetFilters=()=>{form.resetFields();props.applyFilters(form.getFieldValue(\"name\"),undefined);};const loadOrganizations=()=>{Rest().operation({type:\"SelectOrganizations\"}).then(response=>{setOrganizations(response);setLoaded(true);});};const filterOptions=inputValue=>{if(inputValue!==\"\"){Rest().operation({type:\"SelectOrganizationsByName\",inputValue:inputValue}).then(response=>{setOrganizations(response);});}else{loadOrganizations();}};const selectOrganization=idOrganization=>{setIdOrganizationSelected(idOrganization);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Form,{size:\"large\",layout:\"vertical\",className:\"form__smaller-margin\",form:form,style:{width:\"100%\"},children:[/*#__PURE__*/_jsx(Form.Item,{name:\"name\",label:t(\"name\"),children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{label:t(\"organization\"),children:/*#__PURE__*/_jsx(OrganizationsDropdown,{idOrganizationSelected:idOrganizationSelected,organizations:organizations,onChangeSearch:selectOrganization,filterOptions:filterOptions})})]}),/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Button,{type:\"primary\",block:true,onClick:()=>{props.applyFilters(form.getFieldValue(\"name\"),idOrganizationSelected);},loading:props.filtersLoading,children:t(\"apply\")})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Button,{danger:true,block:true,onClick:resetFilters,children:t(\"reset\")})})]})]});};export default LocationsFilter;","map":{"version":3,"names":["Button","Col","Form","Input","Row","OrganizationsDropdown","useEffect","useState","useTranslation","Rest","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","LocationsFilter","props","form","useForm","t","organizations","setOrganizations","loaded","setLoaded","idOrganizationSelected","setIdOrganizationSelected","undefined","loadOrganizations","resetFilters","resetFields","applyFilters","getFieldValue","operation","type","then","response","filterOptions","inputValue","selectOrganization","idOrganization","children","size","layout","className","style","width","Item","name","label","onChangeSearch","gutter","span","block","onClick","loading","filtersLoading","danger"],"sources":["/home/gpt2008/Desktop/Clubs/club/club/club-ui/src/pages/locations/LocationsFilter.tsx"],"sourcesContent":["import { Button, Col, Form, Input, Row } from \"antd\";\nimport OrganizationsDropdown from \"components/filterDropdowns/organizationsDropdown/OrganizationsDropdown\";\nimport { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport Organization from \"types/entities/Organization\";\nimport { Rest } from \"utils/utils\";\n\ninterface IProps {\n\tapplyFilters: (name?: string, idOrganization?: number) => void;\n\tfiltersLoading: boolean;\n}\n\nconst LocationsFilter = (props: IProps) => {\n\tconst [form] = Form.useForm();\n\tconst { t } = useTranslation(\"locationsFilter\");\n\n\tconst [organizations, setOrganizations] = useState<Organization[]>();\n\tconst [loaded, setLoaded] = useState<boolean>();\n\tconst [idOrganizationSelected, setIdOrganizationSelected] = useState<number | undefined>(\n\t\tundefined\n\t);\n\n\tuseEffect(() => {\n\t\tloadOrganizations();\n\t}, []);\n\n\tconst resetFilters = () => {\n\t\tform.resetFields();\n\t\tprops.applyFilters!(form.getFieldValue(\"name\"), undefined);\n\t};\n\n\tconst loadOrganizations = () => {\n\t\tRest<{ type: string }, any>()\n\t\t\t.operation({ type: \"SelectOrganizations\" })\n\t\t\t.then((response) => {\n\t\t\t\tsetOrganizations(response);\n\t\t\t\tsetLoaded(true);\n\t\t\t});\n\t};\n\n\tconst filterOptions = (inputValue: String) => {\n\t\tif (inputValue !== \"\") {\n\t\t\tRest<{ type: string; inputValue: String }, any>()\n\t\t\t\t.operation({ type: \"SelectOrganizationsByName\", inputValue: inputValue })\n\t\t\t\t.then((response) => {\n\t\t\t\t\tsetOrganizations(response);\n\t\t\t\t});\n\t\t} else {\n\t\t\tloadOrganizations();\n\t\t}\n\t};\n\n\tconst selectOrganization = (idOrganization: number) => {\n\t\tsetIdOrganizationSelected(idOrganization);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Form\n\t\t\t\tsize=\"large\"\n\t\t\t\tlayout=\"vertical\"\n\t\t\t\tclassName=\"form__smaller-margin\"\n\t\t\t\tform={form}\n\t\t\t\tstyle={{ width: \"100%\" }}>\n\t\t\t\t<Form.Item name=\"name\" label={t(\"name\")}>\n\t\t\t\t\t<Input></Input>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item label={t(\"organization\")}>\n\t\t\t\t\t<OrganizationsDropdown\n\t\t\t\t\t\tidOrganizationSelected={idOrganizationSelected}\n\t\t\t\t\t\torganizations={organizations}\n\t\t\t\t\t\tonChangeSearch={selectOrganization}\n\t\t\t\t\t\tfilterOptions={filterOptions}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Item>\n\t\t\t</Form>\n\t\t\t<Row gutter={16}>\n\t\t\t\t<Col span={12}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\tblock\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tprops.applyFilters!(form.getFieldValue(\"name\"), idOrganizationSelected);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tloading={props.filtersLoading}>\n\t\t\t\t\t\t{t(\"apply\")}\n\t\t\t\t\t</Button>\n\t\t\t\t</Col>\n\t\t\t\t<Col span={12}>\n\t\t\t\t\t<Button danger block onClick={resetFilters}>\n\t\t\t\t\t\t{t(\"reset\")}\n\t\t\t\t\t</Button>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</>\n\t);\n};\n\nexport default LocationsFilter;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}