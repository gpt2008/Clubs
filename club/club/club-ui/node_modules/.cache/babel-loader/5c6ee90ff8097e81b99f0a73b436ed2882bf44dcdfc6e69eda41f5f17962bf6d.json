{"ast":null,"code":"import useMessage from\"antd/es/message/useMessage\";import{useEffect,useState}from\"react\";import{Rest}from\"utils/utils\";import AppointmentsList from\"./AppointmentsList\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const AppointmentsContainer=()=>{const[appointments,setAppointments]=useState([]);const[providers,setProviders]=useState([]);const[countData,setCountData]=useState(0);const[typeStatusState,setTypeStatus]=useState();const[providerIdState,setProviderId]=useState();const[organizationIdState,setOrganizationId]=useState();const[message,messageContext]=useMessage();const[page,setPage]=useState(1);useEffect(()=>{loadData();},[]);const applyFilters=(offset,typeStatus,idOrganization)=>{filterData(offset,typeStatus,idOrganization);};const filterData=(offset,typeStatus,idOrganization)=>{if(offset){setPage(offset);}else{setPage(0);}Rest().operation({type:\"SelectAppointmentsOfOrganizationAndStatus\",typeStatus:typeStatus?typeStatus:undefined,idOrganization:idOrganization?idOrganization:undefined,limit:10,offset:offset?(offset-1)*10:0}).then(response=>{setAppointments(response.data);setCountData(Number(response.dataCount));}).catch(()=>{message.error(\"Error al cargar las citas.\");});};const loadData=()=>{filterData();Rest().operation({type:\"SelectProviderByName\"}).then(response=>{setProviders(response);});};const filterProviders=(inputValue,idOrganization)=>{if(inputValue!=\"\"){Rest().operation({type:\"SelectProviderByName\",inputValue:inputValue,idOrganization:idOrganization}).then(response=>{setProviders(response);});}};return/*#__PURE__*/_jsxs(_Fragment,{children:[messageContext,/*#__PURE__*/_jsx(AppointmentsList,{filterProviders:filterProviders,page:page,loadAppointmentsData:filterData,dataCount:countData,appointments:appointments,message:message,applyFilters:applyFilters,providers:providers})]});};export default AppointmentsContainer;","map":{"version":3,"names":["useMessage","useEffect","useState","Rest","AppointmentsList","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","AppointmentsContainer","appointments","setAppointments","providers","setProviders","countData","setCountData","typeStatusState","setTypeStatus","providerIdState","setProviderId","organizationIdState","setOrganizationId","message","messageContext","page","setPage","loadData","applyFilters","offset","typeStatus","idOrganization","filterData","operation","type","undefined","limit","then","response","data","Number","dataCount","catch","error","filterProviders","inputValue","children","loadAppointmentsData"],"sources":["/home/gpt2008/Desktop/Clubs/club/club/dentycard-policlinico-bo-ui/src/pages/appointments/AppointmentsContainer.tsx"],"sourcesContent":["import useMessage from \"antd/es/message/useMessage\";\nimport { useEffect, useState } from \"react\";\nimport { AppointmentInfo } from \"types/entities/Appointment\";\nimport Provider from \"types/entities/Provider\";\nimport { GetAppointmentInfo } from \"types/operations/Appointment\";\nimport { Rest } from \"utils/utils\";\nimport AppointmentsList from \"./AppointmentsList\";\n\nconst AppointmentsContainer = () => {\n\tconst [appointments, setAppointments] = useState<AppointmentInfo[]>([] as AppointmentInfo[]);\n\tconst [providers, setProviders] = useState<Provider[]>([] as Provider[]);\n\tconst [countData, setCountData] = useState(0);\n\tconst [typeStatusState, setTypeStatus] = useState<number | undefined>();\n\tconst [providerIdState, setProviderId] = useState<number | undefined>();\n\tconst [organizationIdState, setOrganizationId] = useState<number | undefined>();\n\n\tconst [message, messageContext] = useMessage();\n\n\tconst [page, setPage] = useState(1);\n\n\tuseEffect(() => {\n\t\tloadData();\n\t}, []);\n\n\tconst applyFilters = (offset?: number, typeStatus?: number, idOrganization?: number) => {\n\t\tfilterData(offset, typeStatus, idOrganization);\n\t};\n\n\tconst filterData = (offset?: number, typeStatus?: number, idOrganization?: number) => {\n\t\tif (offset) {\n\t\t\tsetPage(offset);\n\t\t} else {\n\t\t\tsetPage(0);\n\t\t}\n\n\t\tRest<\n\t\t\tGetAppointmentInfo,\n\t\t\t{ limit: string; offset: string; dataCount: string; data: AppointmentInfo[] }\n\t\t>()\n\t\t\t.operation({\n\t\t\t\ttype: \"SelectAppointmentsOfOrganizationAndStatus\",\n\t\t\t\ttypeStatus: typeStatus ? typeStatus : undefined,\n\t\t\t\tidOrganization: idOrganization ? idOrganization : undefined,\n\t\t\t\tlimit: 10,\n\t\t\t\toffset: offset ? (offset - 1) * 10 : 0,\n\t\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tsetAppointments(response.data);\n\t\t\t\tsetCountData(Number(response.dataCount));\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\tmessage.error(\"Error al cargar las citas.\");\n\t\t\t});\n\t};\n\n\tconst loadData = () => {\n\t\tfilterData();\n\t\tRest<{ type: string }, Provider[]>()\n\t\t\t.operation({ type: \"SelectProviderByName\" })\n\t\t\t.then((response) => {\n\t\t\t\tsetProviders(response);\n\t\t\t});\n\t};\n\n\tconst filterProviders = (inputValue: string, idOrganization?: number) => {\n\t\tif (inputValue != \"\") {\n\t\t\tRest<{ type: string; inputValue: string; idOrganization?: number }, any>()\n\t\t\t\t.operation({\n\t\t\t\t\ttype: \"SelectProviderByName\",\n\t\t\t\t\tinputValue: inputValue,\n\t\t\t\t\tidOrganization: idOrganization,\n\t\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tsetProviders(response);\n\t\t\t\t});\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{messageContext}\n\t\t\t<AppointmentsList\n\t\t\t\tfilterProviders={filterProviders}\n\t\t\t\tpage={page}\n\t\t\t\tloadAppointmentsData={filterData}\n\t\t\t\tdataCount={countData}\n\t\t\t\tappointments={appointments}\n\t\t\t\tmessage={message}\n\t\t\t\tapplyFilters={applyFilters}\n\t\t\t\tproviders={providers}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default AppointmentsContainer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}