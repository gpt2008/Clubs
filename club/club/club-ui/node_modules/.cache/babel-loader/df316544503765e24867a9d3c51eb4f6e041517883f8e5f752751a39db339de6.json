{"ast":null,"code":"import React from\"react\";import{withTranslation}from\"react-i18next\";import{Rest}from\"utils/utils\";import NewProviderHolidaysModalContainer from\"./NewProviderHolidaysModalContainer\";import View from\"./ProviderHoliday\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";class ProviderHolidayContainer extends React.Component{constructor(){super(...arguments);this.state={showPastPeriod:false};this.loadData=()=>{Rest().operation({type:\"GetProviderHolidaysData\",idProvider:this.props.idProvider,date:new Date(),showPastPeriod:this.state.showPastPeriod}).then(response=>{this.setState({holidayList:response.prestadorHolidayList||[],loaded:true});});};this.onClickNewHolidayForm=()=>{this.setState({newHolidayFormVisible:true,newHolidayFormKey:new Date().getTime()});};this.onCloseNewHolidayForm=saved=>{this.setState({newHolidayFormVisible:false},()=>{if(saved){this.loadData();}});};this.deleteHolidayPeriod=idPrestadorHoliday=>{Rest().operation({type:\"DeleteProviderHolidayById\",id:idPrestadorHoliday}).then(()=>this.loadData());};this.onClickPastPeriod=()=>{this.setState({showPastPeriod:!this.state.showPastPeriod},()=>this.loadData());};}componentDidMount(){if(this.props.idProvider){this.loadData();}}render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(View,{...this.state,visible:this.props.visible,nameProvider:this.props.nameProvider,onCancel:()=>this.props.onClose(false),onClickNewHolidayForm:this.onClickNewHolidayForm,onClickPastPeriod:this.onClickPastPeriod,deleteHolidayPeriod:this.deleteHolidayPeriod}),/*#__PURE__*/_jsx(NewProviderHolidaysModalContainer,{idProvider:this.props.idProvider,visible:this.state.newHolidayFormVisible,onClose:this.onCloseNewHolidayForm},this.state.newHolidayFormKey)]});}}export default withTranslation(\"providerHolidayForm\")(ProviderHolidayContainer);","map":{"version":3,"names":["React","withTranslation","Rest","NewProviderHolidaysModalContainer","View","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ProviderHolidayContainer","Component","constructor","arguments","state","showPastPeriod","loadData","operation","type","idProvider","props","date","Date","then","response","setState","holidayList","prestadorHolidayList","loaded","onClickNewHolidayForm","newHolidayFormVisible","newHolidayFormKey","getTime","onCloseNewHolidayForm","saved","deleteHolidayPeriod","idPrestadorHoliday","id","onClickPastPeriod","componentDidMount","render","children","visible","nameProvider","onCancel","onClose"],"sources":["/home/gpt2008/Desktop/Clubs/club/club/club-ui/src/components/providerHolidays/ProviderHolidayContainer.tsx"],"sourcesContent":["import React from \"react\";\n\nimport { WithTranslation, withTranslation } from \"react-i18next\";\nimport {\n\tdefault as PrestadorHolidays,\n\tdefault as PrestadorHolidaysData,\n} from \"types/entities/Prestador\";\nimport { Rest } from \"utils/utils\";\nimport NewProviderHolidaysModalContainer from \"./NewProviderHolidaysModalContainer\";\nimport View from \"./ProviderHoliday\";\n\ninterface IProps {\n\tidProvider?: number;\n\tnameProvider?: string;\n\tvisible?: boolean;\n\tonClose: (saved: boolean) => void;\n}\n\nexport interface IState {\n\tholidayList?: PrestadorHolidays[];\n\tnewHolidayFormVisible?: boolean;\n\tnewHolidayFormKey?: number;\n\tshowPastPeriod: boolean;\n\tloaded?: boolean;\n}\n\nclass ProviderHolidayContainer extends React.Component<WithTranslation & IProps> {\n\tpublic state: IState = {\n\t\tshowPastPeriod: false,\n\t};\n\n\tpublic componentDidMount() {\n\t\tif (this.props.idProvider) {\n\t\t\tthis.loadData();\n\t\t}\n\t}\n\n\tpublic render() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<View\n\t\t\t\t\t{...this.state}\n\t\t\t\t\tvisible={this.props.visible}\n\t\t\t\t\tnameProvider={this.props.nameProvider}\n\t\t\t\t\tonCancel={() => this.props.onClose(false)}\n\t\t\t\t\tonClickNewHolidayForm={this.onClickNewHolidayForm}\n\t\t\t\t\tonClickPastPeriod={this.onClickPastPeriod}\n\t\t\t\t\tdeleteHolidayPeriod={this.deleteHolidayPeriod}\n\t\t\t\t/>\n\t\t\t\t<NewProviderHolidaysModalContainer\n\t\t\t\t\tidProvider={this.props.idProvider!}\n\t\t\t\t\tkey={this.state.newHolidayFormKey}\n\t\t\t\t\tvisible={this.state.newHolidayFormVisible}\n\t\t\t\t\tonClose={this.onCloseNewHolidayForm}\n\t\t\t\t/>\n\t\t\t</>\n\t\t);\n\t}\n\n\tprivate loadData = () => {\n\t\tRest<\n\t\t\t{ type: string; idProvider: number; date: Date; showPastPeriod: boolean },\n\t\t\tPrestadorHolidaysData\n\t\t>()\n\t\t\t.operation({\n\t\t\t\ttype: \"GetProviderHolidaysData\",\n\t\t\t\tidProvider: this.props.idProvider!,\n\t\t\t\tdate: new Date(),\n\t\t\t\tshowPastPeriod: this.state.showPastPeriod,\n\t\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tholidayList: response.prestadorHolidayList || [],\n\t\t\t\t\tloaded: true,\n\t\t\t\t});\n\t\t\t});\n\t};\n\n\tprivate onClickNewHolidayForm = () => {\n\t\tthis.setState({\n\t\t\tnewHolidayFormVisible: true,\n\t\t\tnewHolidayFormKey: new Date().getTime(),\n\t\t});\n\t};\n\n\tprivate onCloseNewHolidayForm = (saved: boolean) => {\n\t\tthis.setState({ newHolidayFormVisible: false }, () => {\n\t\t\tif (saved) {\n\t\t\t\tthis.loadData();\n\t\t\t}\n\t\t});\n\t};\n\n\tprivate deleteHolidayPeriod = (idPrestadorHoliday: number) => {\n\t\tRest<{ type: string; id: number }, any>()\n\t\t\t.operation({\n\t\t\t\ttype: \"DeleteProviderHolidayById\",\n\t\t\t\tid: idPrestadorHoliday,\n\t\t\t})\n\t\t\t.then(() => this.loadData());\n\t};\n\n\tprivate onClickPastPeriod = () => {\n\t\tthis.setState({ showPastPeriod: !this.state.showPastPeriod }, () => this.loadData());\n\t};\n}\n\nexport default withTranslation(\"providerHolidayForm\")(ProviderHolidayContainer);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}