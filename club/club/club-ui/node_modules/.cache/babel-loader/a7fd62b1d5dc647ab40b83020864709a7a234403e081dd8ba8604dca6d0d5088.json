{"ast":null,"code":"import{notification}from\"antd\";import React from\"react\";import{withTranslation}from\"react-i18next\";import{Rest}from\"utils/utils\";import UTILS from\"../../utils/tableUtils\";import View from\"./SpecialityList\";import SpecialityFormContainer from\"./SpecialityFormContainer\";import SpecialityRemoveConfirmation from\"./SpecialityRemoveConfirmation\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";class SpecialityListContainer extends React.Component{constructor(){super(...arguments);this.state={};this.loadData=(offset,nameSpeciality)=>{if(offset)this.setState({page:offset});let limit=UTILS.calculatePageSizeForMainTableOther().limit;Rest().operation({type:\"SelectEspecialidades\",limit:limit,offset:offset?(offset-1)*limit:0,filter:nameSpeciality}).then(response=>{this.setState({specialities:response.data,countData:Number(response.dataCount),limit:response.limit});});};this.removeSpeciality=()=>{Rest().operation({type:\"DeleteEspecialidad\",idSpeciality:this.state.idSpecialitySelected}).then(()=>{this.onCloseRemoveSpeciality(true);});};this.onClickRemoveSpeciality=(idEspeciality,nameEspeciality)=>{this.setState({idSpecialitySelected:idEspeciality,nameSpecialitySelected:nameEspeciality,removeSpecialityVisible:true,removeSpecialityKey:new Date().getTime()});};this.onCloseRemoveSpeciality=save=>{this.setState({idSpecialitySelected:undefined,nameSpecialitySelected:undefined,removeSpecialityVisible:false},()=>save&&this.loadData(this.state.page));};this.onClickEditSpecialityForm=(idEspecialitySelected,codeSpecialitySelected,nameEspecialitySelected)=>{this.setState({specialityFormVisible:true,specialityFormKey:new Date().getTime(),idSpecialitySelected:idEspecialitySelected,codeSpecialitySelected:codeSpecialitySelected,nameSpecialitySelected:nameEspecialitySelected});};this.onCloseEditSpecialityForm=save=>{this.setState({specialityFormVisible:false,idSpecialitySelected:undefined,codeSpecialitySelected:undefined,nameSpecialitySelected:undefined},()=>{if(save){notification[\"success\"]({message:this.props.t(\"titles:actionPerformed\")});this.loadData(this.state.page);}});};}componentDidMount(){this.loadData();}render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(View,{specialities:this.state.specialities,limit:this.state.limit?this.state.limit:1,highlightfilter:this.state.highlightfilter,countData:this.state.countData?this.state.countData:0,page:this.state.page?this.state.page:1,loadSpecialityData:this.loadData,onClickEditSpecialityForm:this.onClickEditSpecialityForm,onClickRemoveSpeciality:this.onClickRemoveSpeciality}),/*#__PURE__*/_jsx(SpecialityFormContainer,{visible:this.state.specialityFormVisible,idSpeciality:this.state.idSpecialitySelected,codeSpeciality:this.state.codeSpecialitySelected,nameSpeciality:this.state.nameSpecialitySelected,onClose:this.onCloseEditSpecialityForm},this.state.specialityFormKey),/*#__PURE__*/_jsx(SpecialityRemoveConfirmation,{nameSpeciality:this.state.nameSpecialitySelected,visible:this.state.removeSpecialityVisible,onClose:this.onCloseRemoveSpeciality,removeSpeciality:this.removeSpeciality},this.state.removeSpecialityKey)]});}}export default withTranslation(\"specialityList\")(SpecialityListContainer);","map":{"version":3,"names":["notification","React","withTranslation","Rest","UTILS","View","SpecialityFormContainer","SpecialityRemoveConfirmation","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","SpecialityListContainer","Component","constructor","arguments","state","loadData","offset","nameSpeciality","setState","page","limit","calculatePageSizeForMainTableOther","operation","type","filter","then","response","specialities","data","countData","Number","dataCount","removeSpeciality","idSpeciality","idSpecialitySelected","onCloseRemoveSpeciality","onClickRemoveSpeciality","idEspeciality","nameEspeciality","nameSpecialitySelected","removeSpecialityVisible","removeSpecialityKey","Date","getTime","save","undefined","onClickEditSpecialityForm","idEspecialitySelected","codeSpecialitySelected","nameEspecialitySelected","specialityFormVisible","specialityFormKey","onCloseEditSpecialityForm","message","props","t","componentDidMount","render","children","highlightfilter","loadSpecialityData","visible","codeSpeciality","onClose"],"sources":["/home/gpt2008/Desktop/Clubs/club/club/dentycard-policlinico-bo-ui/src/pages/specialidades/SpecialityListContainer.tsx"],"sourcesContent":["import { notification } from \"antd\";\nimport _ from \"lodash\";\nimport React from \"react\";\nimport { WithTranslation, withTranslation } from \"react-i18next\";\nimport SpecialityDetails from \"types/entities/Especialidad\";\nimport { Rest } from \"utils/utils\";\nimport UTILS from \"../../utils/tableUtils\"\nimport View from \"./SpecialityList\";\nimport SpecialityFormContainer from \"./SpecialityFormContainer\";\nimport SpecialityRemoveConfirmation from \"./SpecialityRemoveConfirmation\"\n\nexport interface IState {\n\tspecialities?: SpecialityDetails[];\n\tloaded?: boolean;\n\tspecialityFormVisible?: boolean;\n\tspecialityFormKey?: number;\n\tformConfigClosingPeriodVisible?: boolean;\n\tformConfigClosingPeriodKey?: number;\n\tidSpecialitySelected?: number;\n\tcodeSpecialitySelected?: string;\n\tnameSpecialitySelected?: string;\n\tforceReloadTimestamp?: number;\n\thighlightfilter?: string;\n    countData?: number;\n\tpage?: number;\n    limit?: number;\n\tremoveSpecialityKey?: number;\n\tremoveSpecialityVisible?: boolean;\n}\n\nclass SpecialityListContainer extends React.Component<WithTranslation, IState> {\n    public state: IState = {};\n\n    public componentDidMount() {\n\t\tthis.loadData();\n\t}\n\n    public render() {\n        return (\n            <>\n                <View\n\t\t\t\t\tspecialities={this.state.specialities}\n\t\t\t\t\tlimit = {this.state.limit ? this.state.limit : 1}\n\t\t\t\t\thighlightfilter={this.state.highlightfilter}\n\t\t\t\t\tcountData={this.state.countData ? this.state.countData : 0}\n\t\t\t\t\tpage={this.state.page ? this.state.page : 1}\n\t\t\t\t\tloadSpecialityData={this.loadData}\n\t\t\t\t\tonClickEditSpecialityForm={this.onClickEditSpecialityForm}\n\t\t\t\t\tonClickRemoveSpeciality= {this.onClickRemoveSpeciality}\n\t\t\t\t/>\n\t\t\t\t<SpecialityFormContainer\n\t\t\t\t\tkey={this.state.specialityFormKey}\n\t\t\t\t\tvisible= {this.state.specialityFormVisible}\n\t\t\t\t\tidSpeciality={this.state.idSpecialitySelected}\n\t\t\t\t\tcodeSpeciality={this.state.codeSpecialitySelected}\n\t\t\t\t\tnameSpeciality={this.state.nameSpecialitySelected}\n\t\t\t\t\tonClose={this.onCloseEditSpecialityForm}\n\t\t\t\t/>\n\n\t\t\t\t<SpecialityRemoveConfirmation\n\t\t\t\t\tkey={this.state.removeSpecialityKey}\n\t\t\t\t\tnameSpeciality={this.state.nameSpecialitySelected}\n\t\t\t\t\tvisible={this.state.removeSpecialityVisible}\n\t\t\t\t\tonClose={this.onCloseRemoveSpeciality}\n\t\t\t\t\tremoveSpeciality={this.removeSpeciality}\n\t\t\t\t/>\n\n            </>\n        )\n    };\n\n    private loadData = (offset?: number, nameSpeciality?: string) => {\n\t\tif (offset) this.setState({page: offset});\n\t\tlet limit = UTILS.calculatePageSizeForMainTableOther().limit;\n\t\tRest<{ type: string, offset?:number, limit: number, filter?:string },\n         {limit:number, offset:string, dataCount:string, data: SpecialityDetails[]}>()\n\t\t\t.operation({\n\t\t\t\ttype: \"SelectEspecialidades\",\n\t\t\t\tlimit: limit,\n\t\t\t\toffset: offset ? (offset - 1) * limit : 0,\n\t\t\t\tfilter: nameSpeciality,\n\t\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tthis.setState({ specialities: response.data, countData: Number(response.dataCount), limit: response.limit});\n\t\t\t});\n\t};\n\n\tprivate removeSpeciality = () => {\n\t\tRest<{ type: string; idSpeciality: number }, any>()\n\t\t\t.operation({\n\t\t\t\ttype: \"DeleteEspecialidad\",\n\t\t\t\tidSpeciality: this.state.idSpecialitySelected!,\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tthis.onCloseRemoveSpeciality(true);\n\t\t\t});\n\t};\n\n\tprivate onClickRemoveSpeciality = (idEspeciality: number, nameEspeciality: string) => {\n\t\tthis.setState({\n\t\t\tidSpecialitySelected: idEspeciality,\n\t\t\tnameSpecialitySelected: nameEspeciality,\n\t\t\tremoveSpecialityVisible: true,\n\t\t\tremoveSpecialityKey: new Date().getTime(),\n\t\t});\n\t};\n\n\tprivate onCloseRemoveSpeciality = (save: boolean) => {\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\tidSpecialitySelected: undefined,\n\t\t\t\tnameSpecialitySelected: undefined,\n\t\t\t\tremoveSpecialityVisible: false,\n\t\t\t},\n\t\t\t() => save && this.loadData(this.state.page)\n\t\t);\n\t};\n\n    private onClickEditSpecialityForm = (idEspecialitySelected?: number, codeSpecialitySelected?: string, nameEspecialitySelected?: string) => {\n\t\tthis.setState({\n\t\t\tspecialityFormVisible: true,\n\t\t\tspecialityFormKey: new Date().getTime(),\n\t\t\tidSpecialitySelected: idEspecialitySelected,\n\t\t\tcodeSpecialitySelected: codeSpecialitySelected,\n\t\t\tnameSpecialitySelected: nameEspecialitySelected,\n\t\t});\n\t};\n\n    private onCloseEditSpecialityForm = (save: boolean) => {\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\tspecialityFormVisible: false,\n\t\t\t\tidSpecialitySelected: undefined,\n\t\t\t\tcodeSpecialitySelected: undefined,\n\t\t\t\tnameSpecialitySelected: undefined,\n\t\t\t},\n\t\t\t() => {\n\t\t\t\tif (save) {\n\t\t\t\t\tnotification[\"success\"]({\n\t\t\t\t\t\tmessage: this.props.t(\"titles:actionPerformed\"),\n\t\t\t\t\t});\n\t\t\t\t\tthis.loadData(this.state.page);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t};\n}\n\nexport default withTranslation(\"specialityList\")(SpecialityListContainer);"],"mappings":"AAAA,OAASA,YAAY,KAAQ,MAAM,CAEnC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAA0BC,eAAe,KAAQ,eAAe,CAEhE,OAASC,IAAI,KAAQ,aAAa,CAClC,MAAO,CAAAC,KAAK,KAAM,wBAAwB,CAC1C,MAAO,CAAAC,IAAI,KAAM,kBAAkB,CACnC,MAAO,CAAAC,uBAAuB,KAAM,2BAA2B,CAC/D,MAAO,CAAAC,4BAA4B,KAAM,gCAAgC,QAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAqBzE,KAAM,CAAAC,uBAAuB,QAAS,CAAAb,KAAK,CAACc,SAAmC,CAAAC,YAAA,WAAAC,SAAA,OACpEC,KAAK,CAAW,CAAC,CAAC,MAwCjBC,QAAQ,CAAG,CAACC,MAAe,CAAEC,cAAuB,GAAK,CACnE,GAAID,MAAM,CAAE,IAAI,CAACE,QAAQ,CAAC,CAACC,IAAI,CAAEH,MAAM,CAAC,CAAC,CACzC,GAAI,CAAAI,KAAK,CAAGpB,KAAK,CAACqB,kCAAkC,CAAC,CAAC,CAACD,KAAK,CAC5DrB,IAAI,CAC+E,CAAC,CAClFuB,SAAS,CAAC,CACVC,IAAI,CAAE,sBAAsB,CAC5BH,KAAK,CAAEA,KAAK,CACZJ,MAAM,CAAEA,MAAM,CAAG,CAACA,MAAM,CAAG,CAAC,EAAII,KAAK,CAAG,CAAC,CACzCI,MAAM,CAAEP,cACT,CAAC,CAAC,CACDQ,IAAI,CAAEC,QAAQ,EAAK,CACnB,IAAI,CAACR,QAAQ,CAAC,CAAES,YAAY,CAAED,QAAQ,CAACE,IAAI,CAAEC,SAAS,CAAEC,MAAM,CAACJ,QAAQ,CAACK,SAAS,CAAC,CAAEX,KAAK,CAAEM,QAAQ,CAACN,KAAK,CAAC,CAAC,CAC5G,CAAC,CAAC,CACJ,CAAC,MAEOY,gBAAgB,CAAG,IAAM,CAChCjC,IAAI,CAA8C,CAAC,CACjDuB,SAAS,CAAC,CACVC,IAAI,CAAE,oBAAoB,CAC1BU,YAAY,CAAE,IAAI,CAACnB,KAAK,CAACoB,oBAC1B,CAAC,CAAC,CACDT,IAAI,CAAC,IAAM,CACX,IAAI,CAACU,uBAAuB,CAAC,IAAI,CAAC,CACnC,CAAC,CAAC,CACJ,CAAC,MAEOC,uBAAuB,CAAG,CAACC,aAAqB,CAAEC,eAAuB,GAAK,CACrF,IAAI,CAACpB,QAAQ,CAAC,CACbgB,oBAAoB,CAAEG,aAAa,CACnCE,sBAAsB,CAAED,eAAe,CACvCE,uBAAuB,CAAE,IAAI,CAC7BC,mBAAmB,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CACzC,CAAC,CAAC,CACH,CAAC,MAEOR,uBAAuB,CAAIS,IAAa,EAAK,CACpD,IAAI,CAAC1B,QAAQ,CACZ,CACCgB,oBAAoB,CAAEW,SAAS,CAC/BN,sBAAsB,CAAEM,SAAS,CACjCL,uBAAuB,CAAE,KAC1B,CAAC,CACD,IAAMI,IAAI,EAAI,IAAI,CAAC7B,QAAQ,CAAC,IAAI,CAACD,KAAK,CAACK,IAAI,CAC5C,CAAC,CACF,CAAC,MAEU2B,yBAAyB,CAAG,CAACC,qBAA8B,CAAEC,sBAA+B,CAAEC,uBAAgC,GAAK,CAC7I,IAAI,CAAC/B,QAAQ,CAAC,CACbgC,qBAAqB,CAAE,IAAI,CAC3BC,iBAAiB,CAAE,GAAI,CAAAT,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,CACvCT,oBAAoB,CAAEa,qBAAqB,CAC3CC,sBAAsB,CAAEA,sBAAsB,CAC9CT,sBAAsB,CAAEU,uBACzB,CAAC,CAAC,CACH,CAAC,MAEUG,yBAAyB,CAAIR,IAAa,EAAK,CACzD,IAAI,CAAC1B,QAAQ,CACZ,CACCgC,qBAAqB,CAAE,KAAK,CAC5BhB,oBAAoB,CAAEW,SAAS,CAC/BG,sBAAsB,CAAEH,SAAS,CACjCN,sBAAsB,CAAEM,SACzB,CAAC,CACD,IAAM,CACL,GAAID,IAAI,CAAE,CACThD,YAAY,CAAC,SAAS,CAAC,CAAC,CACvByD,OAAO,CAAE,IAAI,CAACC,KAAK,CAACC,CAAC,CAAC,wBAAwB,CAC/C,CAAC,CAAC,CACF,IAAI,CAACxC,QAAQ,CAAC,IAAI,CAACD,KAAK,CAACK,IAAI,CAAC,CAC/B,CACD,CACD,CAAC,CACF,CAAC,EAhHSqC,iBAAiBA,CAAA,CAAG,CAC7B,IAAI,CAACzC,QAAQ,CAAC,CAAC,CAChB,CAEU0C,MAAMA,CAAA,CAAG,CACZ,mBACIhD,KAAA,CAAAF,SAAA,EAAAmD,QAAA,eACIrD,IAAA,CAACJ,IAAI,EAChB0B,YAAY,CAAE,IAAI,CAACb,KAAK,CAACa,YAAa,CACtCP,KAAK,CAAI,IAAI,CAACN,KAAK,CAACM,KAAK,CAAG,IAAI,CAACN,KAAK,CAACM,KAAK,CAAG,CAAE,CACjDuC,eAAe,CAAE,IAAI,CAAC7C,KAAK,CAAC6C,eAAgB,CAC5C9B,SAAS,CAAE,IAAI,CAACf,KAAK,CAACe,SAAS,CAAG,IAAI,CAACf,KAAK,CAACe,SAAS,CAAG,CAAE,CAC3DV,IAAI,CAAE,IAAI,CAACL,KAAK,CAACK,IAAI,CAAG,IAAI,CAACL,KAAK,CAACK,IAAI,CAAG,CAAE,CAC5CyC,kBAAkB,CAAE,IAAI,CAAC7C,QAAS,CAClC+B,yBAAyB,CAAE,IAAI,CAACA,yBAA0B,CAC1DV,uBAAuB,CAAG,IAAI,CAACA,uBAAwB,CACvD,CAAC,cACF/B,IAAA,CAACH,uBAAuB,EAEvB2D,OAAO,CAAG,IAAI,CAAC/C,KAAK,CAACoC,qBAAsB,CAC3CjB,YAAY,CAAE,IAAI,CAACnB,KAAK,CAACoB,oBAAqB,CAC9C4B,cAAc,CAAE,IAAI,CAAChD,KAAK,CAACkC,sBAAuB,CAClD/B,cAAc,CAAE,IAAI,CAACH,KAAK,CAACyB,sBAAuB,CAClDwB,OAAO,CAAE,IAAI,CAACX,yBAA0B,EALnC,IAAI,CAACtC,KAAK,CAACqC,iBAMhB,CAAC,cAEF9C,IAAA,CAACF,4BAA4B,EAE5Bc,cAAc,CAAE,IAAI,CAACH,KAAK,CAACyB,sBAAuB,CAClDsB,OAAO,CAAE,IAAI,CAAC/C,KAAK,CAAC0B,uBAAwB,CAC5CuB,OAAO,CAAE,IAAI,CAAC5B,uBAAwB,CACtCH,gBAAgB,CAAE,IAAI,CAACA,gBAAiB,EAJnC,IAAI,CAAClB,KAAK,CAAC2B,mBAKhB,CAAC,EAEQ,CAAC,CAEX,CA6EJ,CAEA,cAAe,CAAA3C,eAAe,CAAC,gBAAgB,CAAC,CAACY,uBAAuB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}