{"ast":null,"code":"import dayjs from\"dayjs\";import React from\"react\";import{withTranslation}from\"react-i18next\";import enumAppointmentStatusNew from\"types/enums/EnumAppointmentStatusNew\";import EventHub,{Event}from\"utils/eventHub\";import{Rest}from\"utils/utils\";import View from\"./AgendasSchedule\";import AppointmentDetailContainer from\"./AppointmentDetailContainer\";import NewAppointmentFormContainer from\"./NewAppointmentFormContainer\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";class AgendasScheduleContainer extends React.Component{constructor(){super(...arguments);this.calendarComponentRef=/*#__PURE__*/React.createRef();this.state={};this.eventRefPrestadorCard=void 0;this.loadData=(idProvider,dateStart)=>{if(this.state.idOrganizationSelected){Rest().operation({type:\"SelectProviderListByOrg\",idOrganization:this.state.idOrganizationSelected}).then(response=>{this.setState({providers:response,forceProviderPhotoReloadKey:new Date().getTime(),loaded:true},()=>{this.setState({calendarHeight:\"calc(100vh - 240px)\"});if(idProvider){this.calendarComponentRef.current.getApi().changeView(\"timeGridDay\",dateStart);this.calendarComponentRef.current.getApi().refetchEvents();}});});}else{Rest().operation({type:\"SelectProviderListByOrgAndUser\"}).then(response=>{this.setState({//idProviderSelected: idProvider ? idProvider : response[0] && response[0].idProvider,\nproviders:response,forceProviderPhotoReloadKey:new Date().getTime(),loaded:true},()=>{this.setState({calendarHeight:\"calc(100vh - 240px)\"});if(idProvider){this.calendarComponentRef.current.getApi().changeView(\"timeGridDay\",dateStart);this.calendarComponentRef.current.getApi().refetchEvents();}});});}};this.loadOrganizations=()=>{Rest().operation({type:\"SelectOrganizations\"}).then(response=>{this.setState({...this.state,organizations:response,loaded:true},()=>{this.setState({calendarHeight:\"calc(100vh - 240px)\"});});});};this.filterOptions=inputValue=>{if(inputValue!==\"\"){Rest().operation({type:\"SelectOrganizationsByName\",inputValue:inputValue}).then(response=>{this.setState({...this.state,organizations:response});});}};this.filterProviders=(inputValue,idOrganization)=>{if(inputValue!==\"\"){Rest().operation({type:\"SelectProviderByName\",inputValue:inputValue,idOrganization:idOrganization}).then(response=>{this.setState({...this.state,providers:response});});}};this.selectOrganization=idOrganization=>{this.setState({idOrganizationSelected:idOrganization},()=>{this.loadData();});};this.selectProvider=idProvider=>{this.setState({idProviderSelected:idProvider},()=>{idProvider!==undefined&&this.calendarComponentRef.current.getApi().refetchEvents();});};this.events=(info,successCallback)=>{Rest().operation({type:\"GetProviderSchedulesSlots\",idProvider:this.state.idProviderSelected,dateStart:info.start,dateEnd:info.end},true).then(response=>{successCallback(this.setEventStruct(response));});};this.setEventStruct=allEvents=>{var _allEvents$slots,_allEvents$appointmen;const events=[];(_allEvents$slots=allEvents.slots)===null||_allEvents$slots===void 0?void 0:_allEvents$slots.forEach(slot=>{let i=slot.valueStart;while(i<slot.valueEnd){const dateStart=dayjs(dayjs(slot.date).format(\"DD/MM/YYYY\"),\"DD/MM/YYYY\").toDate();dateStart.setMinutes(i);const dateEnd=dayjs(dayjs(slot.date).format(\"DD/MM/YYYY\"),\"DD/MM/YYYY\").toDate();dateEnd.setMinutes(i+slot.valueInterval);events.push({start:dateStart,end:dateEnd,extendedProps:{idScheduleSlot:slot.idScheduleSlot},display:\"background\"});i+=slot.valueInterval;}});(_allEvents$appointmen=allEvents.appointments)===null||_allEvents$appointmen===void 0?void 0:_allEvents$appointmen.forEach(appointment=>{const dateStart=dayjs(dayjs(appointment.dateAppointment).format(\"DD/MM/YYYY\"),\"DD/MM/YYYY\").toDate();dateStart.setMinutes(appointment.valueTime);const dateEnd=dayjs(dayjs(appointment.dateAppointment).format(\"DD/MM/YYYY\"),\"DD/MM/YYYY\").toDate();dateEnd.setMinutes(appointment.valueTime+appointment.valueDuration);let appointmentStatus=\"confirmed\";switch(appointment.typeStatus){case enumAppointmentStatusNew.PROPOSED:appointmentStatus=\"proposed\";break;case enumAppointmentStatusNew.CANCELLED:appointmentStatus=\"cancelled\";break;case 5:appointmentStatus=\"payment\";break;case enumAppointmentStatusNew.DONE:appointmentStatus=\"done\";break;default:break;}events.push({title:appointment.namePatient+\" \"+(appointment.nameSurname1?\" \"+appointment.nameSurname1:\"\")+(appointment.nameSurname2?\" \"+appointment.nameSurname2:\"\"),start:dateStart,end:dateEnd,extendedProps:{idAppointment:appointment.idAppointment},className:appointmentStatus});});return events;};this.eventClick=info=>{if(info.event.extendedProps.idAppointment){this.setState({appointmentDetailVisible:true,appointmentDetailKey:new Date().getTime(),idAppointmentSelected:info.event.extendedProps.idAppointment});}else{this.setState({newAppointmentFormVisible:true,newAppointmentFormKey:new Date().getTime(),idScheduleSlotSelected:info.event.extendedProps.idScheduleSlot,dateSelected:info.event.start});}};this.dateClick=info=>{if(!this.state.idAppointmentSelected&&!this.state.idScheduleSlotSelected){this.setState({newAppointmentFormVisible:true,newAppointmentFormKey:new Date().getTime(),dateSelected:info.date,typeCalendarClick:info.view.type});}};this.dateSet=dateInfo=>{if(dayjs().isAfter(dayjs(dateInfo.start))&&dayjs().isBefore(dayjs(dateInfo.end))){var _this$calendarCompone;(_this$calendarCompone=this.calendarComponentRef.current)===null||_this$calendarCompone===void 0?void 0:_this$calendarCompone.getApi().scrollToTime(dayjs().subtract(1,\"hour\").format(\"HH:mm:ss\"));}else{var _this$calendarCompone2;(_this$calendarCompone2=this.calendarComponentRef.current)===null||_this$calendarCompone2===void 0?void 0:_this$calendarCompone2.getApi().scrollToTime(\"08:00:00\");}};this.closeNewAppointmentModal=save=>{this.setState({newAppointmentFormVisible:false,idScheduleSlotSelected:undefined,dateSelected:undefined,typeCalendarClick:undefined},()=>{this.selectProvider(this.state.idProviderSelected);});};this.closeAppointmentDetail=save=>{this.setState({appointmentDetailVisible:false,idAppointmentSelected:undefined},()=>{this.selectProvider(this.state.idProviderSelected);});};}componentDidMount(){this.eventRefPrestadorCard=EventHub.on(Event.OPEN_PROVIDER_CALENDAR,parameters=>{this.loadData(parameters.idPrestador,parameters.date);this.loadOrganizations();});this.loadOrganizations();}render(){return this.state.loaded?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(View,{...this.state,calendarComponentRef:this.calendarComponentRef,selectProvider:this.selectProvider,selectOrganization:this.selectOrganization,filterOptions:this.filterOptions,filterProviders:this.filterProviders,events:this.events,eventClick:this.eventClick,dateClick:this.dateClick,dateSet:this.dateSet}),/*#__PURE__*/_jsx(NewAppointmentFormContainer,{visible:this.state.newAppointmentFormVisible,idProvider:this.state.idProviderSelected,idScheduleSlot:this.state.idScheduleSlotSelected,date:this.state.dateSelected,typeCalendarClick:this.state.typeCalendarClick,onClose:this.closeNewAppointmentModal},this.state.newAppointmentFormKey),/*#__PURE__*/_jsx(AppointmentDetailContainer,{visible:this.state.appointmentDetailVisible,idAppointment:this.state.idAppointmentSelected,onClose:this.closeAppointmentDetail},this.state.appointmentDetailKey)]}):/*#__PURE__*/_jsx(_Fragment,{});}}export default withTranslation(\"agendasSchedule\")(AgendasScheduleContainer);","map":{"version":3,"names":["dayjs","React","withTranslation","enumAppointmentStatusNew","EventHub","Event","Rest","View","AppointmentDetailContainer","NewAppointmentFormContainer","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","AgendasScheduleContainer","Component","constructor","arguments","calendarComponentRef","createRef","state","eventRefPrestadorCard","loadData","idProvider","dateStart","idOrganizationSelected","operation","type","idOrganization","then","response","setState","providers","forceProviderPhotoReloadKey","Date","getTime","loaded","calendarHeight","current","getApi","changeView","refetchEvents","loadOrganizations","organizations","filterOptions","inputValue","filterProviders","selectOrganization","selectProvider","idProviderSelected","undefined","events","info","successCallback","start","dateEnd","end","setEventStruct","allEvents","_allEvents$slots","_allEvents$appointmen","slots","forEach","slot","i","valueStart","valueEnd","date","format","toDate","setMinutes","valueInterval","push","extendedProps","idScheduleSlot","display","appointments","appointment","dateAppointment","valueTime","valueDuration","appointmentStatus","typeStatus","PROPOSED","CANCELLED","DONE","title","namePatient","nameSurname1","nameSurname2","idAppointment","className","eventClick","event","appointmentDetailVisible","appointmentDetailKey","idAppointmentSelected","newAppointmentFormVisible","newAppointmentFormKey","idScheduleSlotSelected","dateSelected","dateClick","typeCalendarClick","view","dateSet","dateInfo","isAfter","isBefore","_this$calendarCompone","scrollToTime","subtract","_this$calendarCompone2","closeNewAppointmentModal","save","closeAppointmentDetail","componentDidMount","on","OPEN_PROVIDER_CALENDAR","parameters","idPrestador","render","children","visible","onClose"],"sources":["/home/gpt2008/Desktop/Clubs/club/club/club-ui/src/pages/agendas/AgendasScheduleContainer.tsx"],"sourcesContent":["import { DatesSetArg } from \"@fullcalendar/core\";\nimport dayjs from \"dayjs\";\nimport React from \"react\";\nimport { WithTranslation, withTranslation } from \"react-i18next\";\nimport Appointment from \"types/entities/Appointment\";\nimport Organization from \"types/entities/Organization\";\nimport ProviderNameAndPhoto from \"types/entities/Provider\";\nimport Slot from \"types/entities/Slot\";\nimport enumAppointmentStatusNew from \"types/enums/EnumAppointmentStatusNew\";\nimport EventHub, { Event } from \"utils/eventHub\";\nimport { Rest } from \"utils/utils\";\nimport View from \"./AgendasSchedule\";\nimport AppointmentDetailContainer from \"./AppointmentDetailContainer\";\nimport NewAppointmentFormContainer from \"./NewAppointmentFormContainer\";\n\nexport interface IState {\n\tloaded?: boolean;\n\tidProviderSelected?: number;\n\tproviders?: ProviderNameAndPhoto[];\n\tforceProviderPhotoReloadKey?: number;\n\tcalendarHeight?: number | string;\n\tappointmentDetailVisible?: boolean;\n\tnewAppointmentFormVisible?: boolean;\n\tnewAppointmentFormKey?: number;\n\tappointmentDetailKey?: number;\n\tidScheduleSlotSelected?: number;\n\tidAppointmentSelected?: number;\n\tdateSelected?: Date;\n\ttypeCalendarClick?: string;\n\torganizations?: Organization[];\n\tidOrganizationSelected?: number;\n}\n\nclass AgendasScheduleContainer extends React.Component<WithTranslation, IState> {\n\tcalendarComponentRef: any = React.createRef();\n\n\tpublic state: IState = {};\n\n\tprivate eventRefPrestadorCard?: string;\n\n\tpublic componentDidMount() {\n\t\tthis.eventRefPrestadorCard = EventHub.on(Event.OPEN_PROVIDER_CALENDAR, (parameters: any) => {\n\t\t\tthis.loadData(parameters.idPrestador, parameters.date);\n\t\t\tthis.loadOrganizations();\n\t\t});\n\t\tthis.loadOrganizations();\n\t}\n\n\tpublic render() {\n\t\treturn this.state.loaded ? (\n\t\t\t<>\n\t\t\t\t<View\n\t\t\t\t\t{...this.state}\n\t\t\t\t\tcalendarComponentRef={this.calendarComponentRef}\n\t\t\t\t\tselectProvider={this.selectProvider}\n\t\t\t\t\tselectOrganization={this.selectOrganization}\n\t\t\t\t\tfilterOptions={this.filterOptions}\n\t\t\t\t\tfilterProviders={this.filterProviders}\n\t\t\t\t\tevents={this.events}\n\t\t\t\t\teventClick={this.eventClick}\n\t\t\t\t\tdateClick={this.dateClick}\n\t\t\t\t\tdateSet={this.dateSet}\n\t\t\t\t/>\n\n\t\t\t\t{/* New appointment form */}\n\t\t\t\t<NewAppointmentFormContainer\n\t\t\t\t\tkey={this.state.newAppointmentFormKey}\n\t\t\t\t\tvisible={this.state.newAppointmentFormVisible}\n\t\t\t\t\tidProvider={this.state.idProviderSelected}\n\t\t\t\t\tidScheduleSlot={this.state.idScheduleSlotSelected}\n\t\t\t\t\tdate={this.state.dateSelected}\n\t\t\t\t\ttypeCalendarClick={this.state.typeCalendarClick}\n\t\t\t\t\tonClose={this.closeNewAppointmentModal}\n\t\t\t\t/>\n\n\t\t\t\t{/* Appointment detail */}\n\t\t\t\t<AppointmentDetailContainer\n\t\t\t\t\tkey={this.state.appointmentDetailKey}\n\t\t\t\t\tvisible={this.state.appointmentDetailVisible}\n\t\t\t\t\tidAppointment={this.state.idAppointmentSelected}\n\t\t\t\t\tonClose={this.closeAppointmentDetail}\n\t\t\t\t/>\n\t\t\t</>\n\t\t) : (\n\t\t\t<></>\n\t\t);\n\t}\n\n\tprivate loadData = (idProvider?: number, dateStart?: Date) => {\n\t\tif (this.state.idOrganizationSelected) {\n\t\t\tRest<{ type: string; idOrganization: number }, any>()\n\t\t\t\t.operation({\n\t\t\t\t\ttype: \"SelectProviderListByOrg\",\n\t\t\t\t\tidOrganization: this.state.idOrganizationSelected,\n\t\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tthis.setState(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tproviders: response,\n\t\t\t\t\t\t\tforceProviderPhotoReloadKey: new Date().getTime(),\n\t\t\t\t\t\t\tloaded: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tthis.setState({ calendarHeight: \"calc(100vh - 240px)\" });\n\t\t\t\t\t\t\tif (idProvider) {\n\t\t\t\t\t\t\t\tthis.calendarComponentRef.current.getApi().changeView(\"timeGridDay\", dateStart);\n\t\t\t\t\t\t\t\tthis.calendarComponentRef.current.getApi().refetchEvents();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t} else {\n\t\t\tRest<{ type: string }, any>()\n\t\t\t\t.operation({ type: \"SelectProviderListByOrgAndUser\" })\n\t\t\t\t.then((response) => {\n\t\t\t\t\tthis.setState(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t//idProviderSelected: idProvider ? idProvider : response[0] && response[0].idProvider,\n\t\t\t\t\t\t\tproviders: response,\n\t\t\t\t\t\t\tforceProviderPhotoReloadKey: new Date().getTime(),\n\t\t\t\t\t\t\tloaded: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tthis.setState({ calendarHeight: \"calc(100vh - 240px)\" });\n\t\t\t\t\t\t\tif (idProvider) {\n\t\t\t\t\t\t\t\tthis.calendarComponentRef.current.getApi().changeView(\"timeGridDay\", dateStart);\n\t\t\t\t\t\t\t\tthis.calendarComponentRef.current.getApi().refetchEvents();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t}\n\t};\n\n\tprivate loadOrganizations = () => {\n\t\tRest<{ type: string }, any>()\n\t\t\t.operation({ type: \"SelectOrganizations\" })\n\t\t\t.then((response) => {\n\t\t\t\tthis.setState(\n\t\t\t\t\t{\n\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\torganizations: response,\n\t\t\t\t\t\tloaded: true,\n\t\t\t\t\t},\n\t\t\t\t\t() => {\n\t\t\t\t\t\tthis.setState({ calendarHeight: \"calc(100vh - 240px)\" });\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t};\n\n\tprivate filterOptions = (inputValue: String) => {\n\t\tif (inputValue !== \"\") {\n\t\t\tRest<{ type: string; inputValue: String }, any>()\n\t\t\t\t.operation({ type: \"SelectOrganizationsByName\", inputValue: inputValue })\n\t\t\t\t.then((response) => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\torganizations: response,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\t};\n\n\tprivate filterProviders = (inputValue: string, idOrganization?: number) => {\n\t\tif (inputValue !== \"\") {\n\t\t\tRest<{ type: string; inputValue: string; idOrganization?: number }, any>()\n\t\t\t\t.operation({\n\t\t\t\t\ttype: \"SelectProviderByName\",\n\t\t\t\t\tinputValue: inputValue,\n\t\t\t\t\tidOrganization: idOrganization,\n\t\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\tproviders: response,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\t};\n\n\tprivate selectOrganization = (idOrganization: number) => {\n\t\tthis.setState({ idOrganizationSelected: idOrganization }, () => {\n\t\t\tthis.loadData();\n\t\t});\n\t};\n\n\tprivate selectProvider = (idProvider: number | undefined) => {\n\t\tthis.setState({ idProviderSelected: idProvider }, () => {\n\t\t\tidProvider !== undefined && this.calendarComponentRef.current.getApi().refetchEvents();\n\t\t});\n\t};\n\n\tprivate events = (info: any, successCallback: any) => {\n\t\tRest<{ type: string; idProvider: number; dateStart: Date; dateEnd: Date }, any>()\n\t\t\t.operation(\n\t\t\t\t{\n\t\t\t\t\ttype: \"GetProviderSchedulesSlots\",\n\t\t\t\t\tidProvider: this.state.idProviderSelected!,\n\t\t\t\t\tdateStart: info.start,\n\t\t\t\t\tdateEnd: info.end,\n\t\t\t\t},\n\t\t\t\ttrue\n\t\t\t)\n\t\t\t.then((response) => {\n\t\t\t\tsuccessCallback(this.setEventStruct(response));\n\t\t\t});\n\t};\n\n\tprivate setEventStruct = (allEvents: any) => {\n\t\tconst events: any = [];\n\t\tallEvents.slots?.forEach((slot: Slot) => {\n\t\t\tlet i = slot.valueStart;\n\t\t\twhile (i < slot.valueEnd) {\n\t\t\t\tconst dateStart = dayjs(dayjs(slot.date).format(\"DD/MM/YYYY\"), \"DD/MM/YYYY\").toDate();\n\t\t\t\tdateStart.setMinutes(i);\n\n\t\t\t\tconst dateEnd = dayjs(dayjs(slot.date).format(\"DD/MM/YYYY\"), \"DD/MM/YYYY\").toDate();\n\t\t\t\tdateEnd.setMinutes(i + slot.valueInterval);\n\n\t\t\t\tevents.push({\n\t\t\t\t\tstart: dateStart,\n\t\t\t\t\tend: dateEnd,\n\t\t\t\t\textendedProps: { idScheduleSlot: slot.idScheduleSlot },\n\t\t\t\t\tdisplay: \"background\",\n\t\t\t\t});\n\t\t\t\ti += slot.valueInterval;\n\t\t\t}\n\t\t});\n\n\t\tallEvents.appointments?.forEach((appointment: Appointment) => {\n\t\t\tconst dateStart = dayjs(\n\t\t\t\tdayjs(appointment.dateAppointment).format(\"DD/MM/YYYY\"),\n\t\t\t\t\"DD/MM/YYYY\"\n\t\t\t).toDate();\n\t\t\tdateStart.setMinutes(appointment.valueTime);\n\n\t\t\tconst dateEnd = dayjs(\n\t\t\t\tdayjs(appointment.dateAppointment).format(\"DD/MM/YYYY\"),\n\t\t\t\t\"DD/MM/YYYY\"\n\t\t\t).toDate();\n\t\t\tdateEnd.setMinutes(appointment.valueTime + appointment.valueDuration);\n\n\t\t\tlet appointmentStatus = \"confirmed\";\n\n\t\t\tswitch (appointment.typeStatus) {\n\t\t\t\tcase enumAppointmentStatusNew.PROPOSED:\n\t\t\t\t\tappointmentStatus = \"proposed\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase enumAppointmentStatusNew.CANCELLED:\n\t\t\t\t\tappointmentStatus = \"cancelled\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5:\n\t\t\t\t\tappointmentStatus = \"payment\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase enumAppointmentStatusNew.DONE:\n\t\t\t\t\tappointmentStatus = \"done\";\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tevents.push({\n\t\t\t\ttitle:\n\t\t\t\t\tappointment.namePatient +\n\t\t\t\t\t\" \" +\n\t\t\t\t\t(appointment.nameSurname1 ? \" \" + appointment.nameSurname1 : \"\") +\n\t\t\t\t\t(appointment.nameSurname2 ? \" \" + appointment.nameSurname2 : \"\"),\n\t\t\t\tstart: dateStart,\n\t\t\t\tend: dateEnd,\n\t\t\t\textendedProps: { idAppointment: appointment.idAppointment },\n\t\t\t\tclassName: appointmentStatus,\n\t\t\t});\n\t\t});\n\n\t\treturn events;\n\t};\n\n\tprivate eventClick = (info: any) => {\n\t\tif (info.event.extendedProps.idAppointment) {\n\t\t\tthis.setState({\n\t\t\t\tappointmentDetailVisible: true,\n\t\t\t\tappointmentDetailKey: new Date().getTime(),\n\t\t\t\tidAppointmentSelected: info.event.extendedProps.idAppointment,\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tnewAppointmentFormVisible: true,\n\t\t\t\tnewAppointmentFormKey: new Date().getTime(),\n\t\t\t\tidScheduleSlotSelected: info.event.extendedProps.idScheduleSlot,\n\t\t\t\tdateSelected: info.event.start,\n\t\t\t});\n\t\t}\n\t};\n\n\tprivate dateClick = (info: any) => {\n\t\tif (!this.state.idAppointmentSelected && !this.state.idScheduleSlotSelected) {\n\t\t\tthis.setState({\n\t\t\t\tnewAppointmentFormVisible: true,\n\t\t\t\tnewAppointmentFormKey: new Date().getTime(),\n\t\t\t\tdateSelected: info.date,\n\t\t\t\ttypeCalendarClick: info.view.type,\n\t\t\t});\n\t\t}\n\t};\n\n\tprivate dateSet = (dateInfo: DatesSetArg) => {\n\t\tif (dayjs().isAfter(dayjs(dateInfo.start)) && dayjs().isBefore(dayjs(dateInfo.end))) {\n\t\t\tthis.calendarComponentRef.current\n\t\t\t\t?.getApi()\n\t\t\t\t.scrollToTime(dayjs().subtract(1, \"hour\").format(\"HH:mm:ss\"));\n\t\t} else {\n\t\t\tthis.calendarComponentRef.current?.getApi().scrollToTime(\"08:00:00\");\n\t\t}\n\t};\n\n\tprivate closeNewAppointmentModal = (save: boolean) => {\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\tnewAppointmentFormVisible: false,\n\t\t\t\tidScheduleSlotSelected: undefined,\n\t\t\t\tdateSelected: undefined,\n\t\t\t\ttypeCalendarClick: undefined,\n\t\t\t},\n\t\t\t() => {\n\t\t\t\tthis.selectProvider(this.state.idProviderSelected!);\n\t\t\t}\n\t\t);\n\t};\n\n\tprivate closeAppointmentDetail = (save: boolean) => {\n\t\tthis.setState({ appointmentDetailVisible: false, idAppointmentSelected: undefined }, () => {\n\t\t\tthis.selectProvider(this.state.idProviderSelected!);\n\t\t});\n\t};\n}\n\nexport default withTranslation(\"agendasSchedule\")(AgendasScheduleContainer);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}