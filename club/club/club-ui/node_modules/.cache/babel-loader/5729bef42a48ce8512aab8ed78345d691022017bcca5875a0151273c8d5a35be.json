{"ast":null,"code":"import{faCircle}from\"@fortawesome/free-solid-svg-icons\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{Button,Col,Form,Row,Select,Input}from\"antd\";import{Option}from\"rc-select\";import{useEffect,useState}from\"react\";import{useTranslation}from\"react-i18next\";import{Rest}from\"utils/utils\";import enumPrestadorScheduleStatus from\"types/enums/EnumPrestadorScheduleStatus\";import _ from\"lodash\";import\"./Provider.scss\";import OrganizationsDropdown from\"components/filterDropdowns/organizationsDropdown/OrganizationsDropdown\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ProvidersFilter=props=>{const[form]=Form.useForm();const[organizations,setOrganizations]=useState([]);const{t}=useTranslation(\"providerFilter\");const resetFilters=()=>{form.resetFields();apply();};const apply=()=>{props.setNameProvider(form.getFieldValue(\"providers\"));props.setTypeStatus(form.getFieldValue(\"typeStatus\"));props.setIdOrganization(form.getFieldValue(\"organizacion\"));props.applyFilters(0,form.getFieldValue(\"typeStatus\"),form.getFieldValue(\"providers\"),props.idOrganization);};const searchFilterOrganization=_.debounce(inputValue=>handleSearchOrganization(inputValue),500);const handleSearchOrganization=inputValue=>{if(inputValue!==\"\"&&inputValue.length>=3){Rest().operation({type:\"SelectOrganizationsByName\",inputValue:inputValue}).then(response=>{setOrganizations(response);});}};const loadOrganizations=()=>{Rest().operation({type:\"SelectOrganizations\"}).then(response=>{setOrganizations(response);});};useEffect(()=>{loadOrganizations();},[props.idOrganization]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Form,{size:\"large\",layout:\"vertical\",className:\"form__smaller-margin\",form:form,style:{width:\"100%\"},children:[/*#__PURE__*/_jsx(Form.Item,{name:\"typeStatus\",label:t(\"typeStatus\"),children:/*#__PURE__*/_jsxs(Select,{placeholder:t(\"filterTypeStatusPlaceholder\"),allowClear:true,children:[/*#__PURE__*/_jsx(Option,{value:true,label:t(\"providers\"+enumPrestadorScheduleStatus.ACTIVE),children:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCircle,className:\"confirmed\",style:{marginRight:\"8px\"}}),t(\"scheduleTypeACTIVE\")]})},enumPrestadorScheduleStatus.ACTIVE),/*#__PURE__*/_jsx(Option,{value:false,label:t(\"providers\"+enumPrestadorScheduleStatus.INACTIVE),children:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCircle,className:\"cancelled\",style:{marginRight:\"8px\"}}),t(\"scheduleTypeINACTIVE\")]})},enumPrestadorScheduleStatus.INACTIVE)]})}),/*#__PURE__*/_jsx(Form.Item,{name:\"providers\",label:t(\"providers\"),children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{name:\"organizacion\",label:t(\"organization\"),children:/*#__PURE__*/_jsx(OrganizationsDropdown,{idOrganizationSelected:props.idOrganization,organizations:organizations,onChangeSearch:props.setIdOrganization,filterOptions:searchFilterOrganization})})]}),/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Button,{type:\"primary\",block:true,onClick:()=>apply(),children:t(\"apply\")})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Button,{danger:true,block:true,onClick:resetFilters,children:t(\"reset\")})})]})]});};export default ProvidersFilter;","map":{"version":3,"names":["faCircle","FontAwesomeIcon","Button","Col","Form","Row","Select","Input","Option","useEffect","useState","useTranslation","Rest","enumPrestadorScheduleStatus","_","OrganizationsDropdown","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProvidersFilter","props","form","useForm","organizations","setOrganizations","t","resetFilters","resetFields","apply","setNameProvider","getFieldValue","setTypeStatus","setIdOrganization","applyFilters","idOrganization","searchFilterOrganization","debounce","inputValue","handleSearchOrganization","length","operation","type","then","response","loadOrganizations","children","size","layout","className","style","width","Item","name","label","placeholder","allowClear","value","ACTIVE","icon","marginRight","INACTIVE","idOrganizationSelected","onChangeSearch","filterOptions","gutter","span","block","onClick","danger"],"sources":["/home/gpt2008/Desktop/Clubs/club/club/dentycard-policlinico-bo-ui/src/pages/provider/ProvidersFilter.tsx"],"sourcesContent":["import { faCircle, faUserCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Button, Col, Form, Row, Select, SelectProps, Input } from \"antd\";\nimport { Option } from \"rc-select\";\nimport { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport Provider from \"types/entities/Provider\";\nimport cx from \"classnames\";\nimport { Rest } from \"utils/utils\";\nimport enumPrestadorScheduleStatus from \"types/enums/EnumPrestadorScheduleStatus\";\nimport _, { update } from \"lodash\";\nimport { OptionType } from \"dayjs\";\nimport \"./Provider.scss\";\nimport Organization from \"types/entities/Organization\";\nimport OrganizationsDropdown from \"components/filterDropdowns/organizationsDropdown/OrganizationsDropdown\";\n\ninterface IProps {\n\tproviders: Provider[];\n\tidOrganization?: number;\n\tapplyFilters: (offset?:number, typeStatus?: boolean, nameProvider?: string, idOrganization?:number) => void;\n\tsetNameProvider: (NameProvider?: string) => void;\n\tsetIdOrganization: (idOrganization?: number) => void;\n\tsetTypeStatus: (typeStatus?: boolean) => void;\n}\n\nconst ProvidersFilter = (props: IProps) => {\n\tconst [form] = Form.useForm();\n\tconst [organizations, setOrganizations] = useState<Organization[]>([]);\n\tconst { t } = useTranslation(\"providerFilter\");\n\n\tconst resetFilters = () => {\n\t\tform.resetFields();\n\t\tapply();\n\t};\n\n\tconst apply = () => {\n\t\tprops.setNameProvider(form.getFieldValue(\"providers\"));\n\t\tprops.setTypeStatus(form.getFieldValue(\"typeStatus\"));\n\t\tprops.setIdOrganization(form.getFieldValue(\"organizacion\"));\n\t\tprops.applyFilters!(0,form.getFieldValue(\"typeStatus\"), form.getFieldValue(\"providers\"), props.idOrganization);\n\t};\n\n\n\tconst searchFilterOrganization = _.debounce((inputValue: string) => handleSearchOrganization(inputValue), 500);\n\n\tconst handleSearchOrganization = (inputValue: String) => {\n\t\tif (inputValue !== \"\" && inputValue.length >= 3){\n\t\t\tRest<{ type: string; inputValue: String}, Organization[]>()\n\t\t\t\t.operation({ \n\t\t\t\t\ttype: \"SelectOrganizationsByName\",\n\t\t\t\t\tinputValue:  inputValue})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tsetOrganizations(response);\n\t\t\t\t});\n\t\t}\n\t\t\n\t};\n\n\tconst loadOrganizations = () => {\n\t\tRest<{ type: string }, any>()\n\t\t\t.operation({ type: \"SelectOrganizations\" })\n\t\t\t.then((response) => {\n\t\t\t\tsetOrganizations(response);\n\t\t\t});\n\t}\n\n\tuseEffect(()=>{\n\t\tloadOrganizations();\n\t},[props.idOrganization]);\n \n\treturn (\n\t\t<>\n\t\t\t<Form\n\t\t\t\tsize=\"large\"\n\t\t\t\tlayout=\"vertical\"\n\t\t\t\tclassName=\"form__smaller-margin\"\n\t\t\t\tform={form}\n\t\t\t\tstyle={{ width: \"100%\" }}>\n\t\t\t\t<Form.Item name=\"typeStatus\" label={t(\"typeStatus\")}>\n\t\t\t\t<Select placeholder={t(\"filterTypeStatusPlaceholder\")} allowClear>\n\t\t\t\t\t\t<Option\n\t\t\t\t\t\t\tkey={enumPrestadorScheduleStatus.ACTIVE}\n\t\t\t\t\t\t\tvalue={true}\n\t\t\t\t\t\t\tlabel={t(\"providers\" + enumPrestadorScheduleStatus.ACTIVE)}>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\ticon={faCircle}\n\t\t\t\t\t\t\t\t\tclassName={\"confirmed\"}\n\t\t\t\t\t\t\t\t\tstyle={{ marginRight: \"8px\" }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{t(\"scheduleTypeACTIVE\")}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</Option>\n\t\t\t\t\t\t<Option\n\t\t\t\t\t\t\tkey={enumPrestadorScheduleStatus.INACTIVE}\n\t\t\t\t\t\t\tvalue={false}\n\t\t\t\t\t\t\tlabel={t(\"providers\" + enumPrestadorScheduleStatus.INACTIVE)}>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\ticon={faCircle}\n\t\t\t\t\t\t\t\t\tclassName={\"cancelled\"}\n\t\t\t\t\t\t\t\t\tstyle={{ marginRight: \"8px\" }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{t(\"scheduleTypeINACTIVE\")}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</Option>\n\t\t\t\t\t</Select>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item name=\"providers\" label={t(\"providers\")}>\n\t\t\t\t\t<Input>\n\t\t\t\t\t</Input>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item name=\"organizacion\" label={t(\"organization\")}>\n\t\t\t\t\t<OrganizationsDropdown\n\t\t\t\t\t\tidOrganizationSelected={props.idOrganization}\n\t\t\t\t\t\torganizations={organizations}\n\t\t\t\t\t\tonChangeSearch={props.setIdOrganization}\n\t\t\t\t\t\tfilterOptions={searchFilterOrganization}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Item>\n\t\t\t</Form>\n\n\t\t\t<Row gutter={16}>\n\t\t\t\t<Col span={12}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\tblock\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\tapply()\n\t\t\t\t\t\t}>\n\t\t\t\t\t\t{t(\"apply\")}\n\t\t\t\t\t</Button>\n\t\t\t\t</Col>\n\t\t\t\t<Col span={12}>\n\t\t\t\t\t<Button danger block onClick={resetFilters}>\n\t\t\t\t\t\t{t(\"reset\")}\n\t\t\t\t\t</Button>\n\t\t\t\t</Col>\n\t\t\t</Row>\n        </>\n\t);\n};\n\nexport default ProvidersFilter;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}