{"ast":null,"code":"import{notification}from\"antd\";import ProviderHolidayContainer from\"components/providerHolidays/ProviderHolidayContainer\";import ScheduleManagementContainer from\"components/providerSchedules/ScheduleManagementContainer\";import React from\"react\";import{withTranslation}from\"react-i18next\";import{Rest}from\"utils/utils\";import ProviderFormContainer from\"./ProviderFormContainer\";import View from\"./ProviderList\";import UTILS from\"../../utils/tableUtils\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";class ProviderListContainer extends React.Component{constructor(){super(...arguments);this.state={loading:false};this.loadData=(offset,typeStatus,nameProvider,idOrganization)=>{if(offset)this.setState({page:offset});this.setState({loading:true});Rest().operation({type:\"SelectProviderListByOrganizations\",date:new Date(),limit:UTILS.calculatePageSizeForMainTableOther().limit,offset:offset?(offset-1)*10:0,typeStatusActive:typeStatus?typeStatus:undefined,typeStatusInactive:typeStatus?undefined:typeStatus,filter:nameProvider,idOrganization:idOrganization}).then(response=>{this.setState({providers:response.data,countData:Number(response.dataCount),limit:response.limit});}).finally(()=>{this.setState({loading:false});});};this.openProviderForm=(idProviderSelected,nameProviderSelected)=>{this.setState({providerFormVisible:true,providerFormKey:new Date().getTime(),idProviderSelected,nameProviderSelected});};this.closeProviderForm=save=>{this.setState({providerFormVisible:false,idProviderSelected:undefined,nameProviderSelected:undefined},()=>{if(save){notification[\"success\"]({message:this.props.t(\"titles:actionPerformed\")});this.loadData();}});};this.openProviderSchedules=(idProviderSelected,nameProviderSelected)=>{this.setState({schedulesFormVisible:true,schedulesFormKey:new Date().getTime(),idProviderSelected,nameProviderSelected});};this.closeProviderSchedule=()=>{this.setState({schedulesFormVisible:undefined,idProviderSelected:undefined,nameProviderSelected:undefined},()=>this.loadData());};this.openProviderHolidaysForm=(idProviderSelected,nameProviderSelected)=>{this.setState({providerHolidaysFormVisible:true,providerHolidaysFormKey:new Date().getTime(),idProviderSelected,nameProviderSelected});};this.closeProviderHolidaysForm=()=>{this.setState({providerHolidaysFormVisible:undefined,idProviderSelected:undefined,nameProviderSelected:undefined},()=>this.loadData());};}componentDidMount(){this.loadData();}render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(View,{providers:this.state.providers,openProviderForm:this.openProviderForm,openProviderHolidaysForm:this.openProviderHolidaysForm//searchFilter={this.searchFilter}\n,highlightFilter:this.state.highlightFilter,openProviderSchedules:this.openProviderSchedules,countData:this.state.countData?this.state.countData:0,page:this.state.page?this.state.page:1,loadProvidersData:this.loadData,limit:this.state.limit?this.state.limit:1,loading:this.state.loading}),/*#__PURE__*/_jsx(ProviderFormContainer,{visible:this.state.providerFormVisible,idProvider:this.state.idProviderSelected,nameProvider:this.state.nameProviderSelected,onClose:this.closeProviderForm},this.state.providerFormKey),/*#__PURE__*/_jsx(ScheduleManagementContainer,{visible:this.state.schedulesFormVisible,idProvider:this.state.idProviderSelected,nameProvider:this.state.nameProviderSelected,onClose:this.closeProviderSchedule},this.state.schedulesFormKey),/*#__PURE__*/_jsx(ProviderHolidayContainer,{visible:this.state.providerHolidaysFormVisible,idProvider:this.state.idProviderSelected,nameProvider:this.state.nameProviderSelected,onClose:this.closeProviderHolidaysForm},this.state.providerHolidaysFormKey)]});}/*private searchFilter = _.debounce((value: any) => this.doSearchFilter(value), 500);\n\n\tprivate doSearchFilter = (value: any) => {\n\n\t\tRest<{ type: string; date: Date; filter: string }, Provider[]>()\n\t\t\t.operation({\n\t\t\t\ttype: \"SelectProviderListByOrganization\",\n\t\t\t\tdate: new Date(),\n\t\t\t\tfilter: value,\n\t\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tthis.setState({ providers: response, highlightFilter: value });\n\t\t\t});\n\t};*/}export default withTranslation(\"providerList\")(ProviderListContainer);","map":{"version":3,"names":["notification","ProviderHolidayContainer","ScheduleManagementContainer","React","withTranslation","Rest","ProviderFormContainer","View","UTILS","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ProviderListContainer","Component","constructor","arguments","state","loading","loadData","offset","typeStatus","nameProvider","idOrganization","setState","page","operation","type","date","Date","limit","calculatePageSizeForMainTableOther","typeStatusActive","undefined","typeStatusInactive","filter","then","response","providers","data","countData","Number","dataCount","finally","openProviderForm","idProviderSelected","nameProviderSelected","providerFormVisible","providerFormKey","getTime","closeProviderForm","save","message","props","t","openProviderSchedules","schedulesFormVisible","schedulesFormKey","closeProviderSchedule","openProviderHolidaysForm","providerHolidaysFormVisible","providerHolidaysFormKey","closeProviderHolidaysForm","componentDidMount","render","children","highlightFilter","loadProvidersData","visible","idProvider","onClose"],"sources":["/home/gpt2008/Desktop/Clubs/club/club/club-ui/src/pages/provider/ProviderListContainer.tsx"],"sourcesContent":["import { notification } from \"antd\";\nimport ProviderHolidayContainer from \"components/providerHolidays/ProviderHolidayContainer\";\nimport ScheduleManagementContainer from \"components/providerSchedules/ScheduleManagementContainer\";\nimport _ from \"lodash\";\nimport React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport { WithTranslation, withTranslation } from \"react-i18next\";\nimport Provider from \"types/entities/Provider\";\nimport { Rest, TableUtils } from \"utils/utils\";\nimport ProviderFormContainer from \"./ProviderFormContainer\";\nimport View from \"./ProviderList\";\nimport UTILS from \"../../utils/tableUtils\"\n\nexport interface IState {\n\tproviders?: Provider[];\n\tproviderFormVisible?: boolean;\n\tproviderFormKey?: number;\n\tproviderHolidaysFormVisible?: boolean;\n\tproviderHolidaysFormKey?: number;\n\tschedulesFormVisible?: boolean;\n\tschedulesFormKey?: number;\n\tidProviderSelected?: number;\n\tnameProviderSelected?: string;\n\thighlightFilter?: string;\n\tcountData?: number;\n\tpage?: number;\n\tlimit?: number;\n\tloading: boolean;\n}\n\nclass ProviderListContainer extends React.Component<WithTranslation, IState> {\n\tpublic state: IState = {\n\t\tloading: false\n\t};\n\n\tpublic componentDidMount() {\n\t\tthis.loadData();\n\t}\n\n\tpublic render() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<View\n\t\t\t\t\tproviders={this.state.providers}\n\t\t\t\t\topenProviderForm={this.openProviderForm}\n\t\t\t\t\topenProviderHolidaysForm={this.openProviderHolidaysForm}\n\t\t\t\t\t//searchFilter={this.searchFilter}\n\t\t\t\t\thighlightFilter={this.state.highlightFilter}\n\t\t\t\t\topenProviderSchedules={this.openProviderSchedules}\n\t\t\t\t\tcountData={this.state.countData ? this.state.countData : 0}\n\t\t\t\t\tpage={this.state.page ? this.state.page : 1}\n\t\t\t\t\tloadProvidersData={this.loadData}\n\t\t\t\t\tlimit = {this.state.limit ? this.state.limit : 1}\n\t\t\t\t\tloading = {this.state.loading}\n\t\t\t\t/>\n\t\t\t\t<ProviderFormContainer\n\t\t\t\t\tkey={this.state.providerFormKey}\n\t\t\t\t\tvisible={this.state.providerFormVisible}\n\t\t\t\t\tidProvider={this.state.idProviderSelected}\n\t\t\t\t\tnameProvider={this.state.nameProviderSelected}\n\t\t\t\t\tonClose={this.closeProviderForm}\n\t\t\t\t/>\n\t\t\t\t<ScheduleManagementContainer\n\t\t\t\t\tkey={this.state.schedulesFormKey}\n\t\t\t\t\tvisible={this.state.schedulesFormVisible}\n\t\t\t\t\tidProvider={this.state.idProviderSelected}\n\t\t\t\t\tnameProvider={this.state.nameProviderSelected}\n\t\t\t\t\tonClose={this.closeProviderSchedule}\n\t\t\t\t/>\n\t\t\t\t<ProviderHolidayContainer\n\t\t\t\t\tkey={this.state.providerHolidaysFormKey}\n\t\t\t\t\tvisible={this.state.providerHolidaysFormVisible}\n\t\t\t\t\tidProvider={this.state.idProviderSelected}\n\t\t\t\t\tnameProvider={this.state.nameProviderSelected}\n\t\t\t\t\tonClose={this.closeProviderHolidaysForm}\n\t\t\t\t/>\n\t\t\t</>\n\t\t);\n\t}\n\n\tprivate loadData = (offset?: number, typeStatus?: boolean, nameProvider?: string, idOrganization?: number) => {\n\t\tif (offset) this.setState({page: offset});\n\t\tthis.setState({loading: true})\n\t\tRest<{ type: string; date: Date, offset?:number, limit: number, typeStatusActive?: boolean, typeStatusInactive?: boolean, filter?:string, idOrganization?:number }, {limit:number, offset:string, dataCount:string, data: Provider[]}>()\n\t\t\t.operation({\n\t\t\t\ttype: \"SelectProviderListByOrganizations\",\n\t\t\t\tdate: new Date() ,\n\t\t\t\tlimit: UTILS.calculatePageSizeForMainTableOther().limit,\n\t\t\t\toffset: offset ? (offset - 1) * 10 : 0,\n\t\t\t\ttypeStatusActive: typeStatus ? typeStatus : undefined,\n\t\t\t\ttypeStatusInactive: typeStatus ? undefined : typeStatus,\n\t\t\t\tfilter: nameProvider,\n\t\t\t\tidOrganization: idOrganization\n\t\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tthis.setState({ providers: response.data, countData: Number(response.dataCount), limit: response.limit});\n\t\t\t}).finally(() => {\n\t\t\t\tthis.setState({loading: false});\n\t\t\t});\n\t};\n\n\tprivate openProviderForm = (idProviderSelected?: number, nameProviderSelected?: string) => {\n\t\tthis.setState({\n\t\t\tproviderFormVisible: true,\n\t\t\tproviderFormKey: new Date().getTime(),\n\t\t\tidProviderSelected,\n\t\t\tnameProviderSelected,\n\t\t});\n\t};\n\n\tprivate closeProviderForm = (save: boolean) => {\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\tproviderFormVisible: false,\n\t\t\t\tidProviderSelected: undefined,\n\t\t\t\tnameProviderSelected: undefined,\n\t\t\t},\n\t\t\t() => {\n\t\t\t\tif (save) {\n\t\t\t\t\tnotification[\"success\"]({\n\t\t\t\t\t\tmessage: this.props.t(\"titles:actionPerformed\"),\n\t\t\t\t\t});\n\t\t\t\t\tthis.loadData();\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t};\n\n\tprivate openProviderSchedules = (idProviderSelected?: number, nameProviderSelected?: string) => {\n\t\tthis.setState({\n\t\t\tschedulesFormVisible: true,\n\t\t\tschedulesFormKey: new Date().getTime(),\n\t\t\tidProviderSelected,\n\t\t\tnameProviderSelected,\n\t\t});\n\t};\n\n\tprivate closeProviderSchedule = () => {\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\tschedulesFormVisible: undefined,\n\t\t\t\tidProviderSelected: undefined,\n\t\t\t\tnameProviderSelected: undefined,\n\t\t\t},\n\t\t\t() => this.loadData()\n\t\t);\n\t};\n\n\tprivate openProviderHolidaysForm = (\n\t\tidProviderSelected?: number,\n\t\tnameProviderSelected?: string\n\t) => {\n\t\tthis.setState({\n\t\t\tproviderHolidaysFormVisible: true,\n\t\t\tproviderHolidaysFormKey: new Date().getTime(),\n\t\t\tidProviderSelected,\n\t\t\tnameProviderSelected,\n\t\t});\n\t};\n\n\tprivate closeProviderHolidaysForm = () => {\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\tproviderHolidaysFormVisible: undefined,\n\t\t\t\tidProviderSelected: undefined,\n\t\t\t\tnameProviderSelected: undefined,\n\t\t\t},\n\t\t\t() => this.loadData()\n\t\t);\n\t};\n\n\t/*private searchFilter = _.debounce((value: any) => this.doSearchFilter(value), 500);\n\n\tprivate doSearchFilter = (value: any) => {\n\n\t\tRest<{ type: string; date: Date; filter: string }, Provider[]>()\n\t\t\t.operation({\n\t\t\t\ttype: \"SelectProviderListByOrganization\",\n\t\t\t\tdate: new Date(),\n\t\t\t\tfilter: value,\n\t\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tthis.setState({ providers: response, highlightFilter: value });\n\t\t\t});\n\t};*/\n}\n\nexport default withTranslation(\"providerList\")(ProviderListContainer);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}