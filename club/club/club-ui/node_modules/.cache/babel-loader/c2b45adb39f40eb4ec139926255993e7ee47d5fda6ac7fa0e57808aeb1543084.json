{"ast":null,"code":"import{EyeInvisibleOutlined,EyeOutlined,PlusCircleOutlined}from\"@ant-design/icons\";import{Button,Col,Modal,Popconfirm,Row,Table}from\"antd\";import{useTranslation}from\"react-i18next\";import{Icons,TableIcons}from\"utils/utils\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const ClosingPeriodForm=props=>{var _props$holidays;const{t}=useTranslation([\"holidaysAndClosingForm\"]);const dateRenderer=(value,record)=>{let date;if(value&&record.dateStart.toLocaleDateString()===record.dateEnd.toLocaleDateString()){date=record.dateStart.toLocaleDateString();}else{date=record.dateStart.toLocaleDateString()+\" - \"+record.dateEnd.toLocaleDateString();}return date;};const deleteRenderer=(value,record)=>{return!record.isPast&&/*#__PURE__*/_jsx(Popconfirm,{title:t(\"messages:areYouSure\"),onConfirm:()=>props.deleteHolidayPeriod(record.idPeriod),okText:t(\"buttons:yes\"),cancelText:t(\"buttons:no\"),children:/*#__PURE__*/_jsx(Button,{type:\"primary\",danger:true,icon:TableIcons.getTableIcon(TableIcons.TableIcon.trash)})});};const personalHolidaysColumns=[{title:t(\"personalHolidaysNameColumn\"),dataIndex:\"namePeriod\",align:\"left\",width:\"18rem\",ellipsis:true},{title:t(\"personalHolidaysDateColumn\"),render:dateRenderer,align:\"left\"},{width:\"4rem\",render:deleteRenderer,align:\"center\"}];return/*#__PURE__*/_jsxs(Modal,{title:/*#__PURE__*/_jsxs(_Fragment,{children:[Icons.getIconByCode(\"STOTE\",{color:\"inherit\"}),/*#__PURE__*/_jsx(\"span\",{children:t(\"closingPeriodsTitle\",{locationName:props.nameLocation})})]}),style:{top:40},onOk:undefined,onCancel:props.onCancel,open:props.visible&&!props.newHolidayFormVisible,destroyOnClose:true,width:600,footer:[/*#__PURE__*/_jsxs(Button,{onClick:props.onCancel,children:[\" \",t(\"buttons:close\"),\" \"]},\"back\")],children:[/*#__PURE__*/_jsxs(Row,{gutter:16,style:{paddingBottom:\"0.5rem\"},children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{type:\"primary\",icon:/*#__PURE__*/_jsx(PlusCircleOutlined,{}),onClick:props.onClickNewHolidayForm,children:t(\"addClosingPeriodButton\")})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{icon:props.showPastPeriod?/*#__PURE__*/_jsx(EyeInvisibleOutlined,{}):/*#__PURE__*/_jsx(EyeOutlined,{}),onClick:props.onClickPastPeriod,children:props.showPastPeriod?t(\"hidePastHolidayButton\"):t(\"showPastHolidayButton\")})})]}),/*#__PURE__*/_jsx(Table,{columns:personalHolidaysColumns,dataSource:(_props$holidays=props.holidays)===null||_props$holidays===void 0?void 0:_props$holidays.holidaysPeriodLocationList,size:\"small\",pagination:false})]});};export default ClosingPeriodForm;","map":{"version":3,"names":["EyeInvisibleOutlined","EyeOutlined","PlusCircleOutlined","Button","Col","Modal","Popconfirm","Row","Table","useTranslation","Icons","TableIcons","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ClosingPeriodForm","props","_props$holidays","t","dateRenderer","value","record","date","dateStart","toLocaleDateString","dateEnd","deleteRenderer","isPast","title","onConfirm","deleteHolidayPeriod","idPeriod","okText","cancelText","children","type","danger","icon","getTableIcon","TableIcon","trash","personalHolidaysColumns","dataIndex","align","width","ellipsis","render","getIconByCode","color","locationName","nameLocation","style","top","onOk","undefined","onCancel","open","visible","newHolidayFormVisible","destroyOnClose","footer","onClick","gutter","paddingBottom","onClickNewHolidayForm","showPastPeriod","onClickPastPeriod","columns","dataSource","holidays","holidaysPeriodLocationList","size","pagination"],"sources":["/home/gpt2008/Desktop/Clubs/club/club/dentycard-policlinico-bo-ui/src/components/closingPeriods/ClosingPeriodForm.tsx"],"sourcesContent":["import { EyeInvisibleOutlined, EyeOutlined, PlusCircleOutlined } from \"@ant-design/icons\";\nimport { Button, Col, Modal, Popconfirm, Row, Table } from \"antd\";\nimport { AlignType } from \"rc-table/lib/interface\";\nimport { useTranslation } from \"react-i18next\";\nimport PersonalHoliday from \"types/entities/Holidays\";\nimport { Icons, TableIcons } from \"utils/utils\";\nimport { IState as IStateContainer } from \"./ClosingPeriodFormContainer\";\n\ninterface IProps {\n\tvisible?: boolean;\n\tnameLocation?: string;\n\tonCancel: () => void;\n\tonChangePublicHoliday: (idZoneHoliday: number, checked: boolean) => void;\n\tonClickNewHolidayForm: () => void;\n\tonClickPastPeriod: () => void;\n\tdeleteHolidayPeriod: (idPeriod: number) => void;\n}\n\nconst ClosingPeriodForm = (props: IProps & IStateContainer) => {\n\tconst { t } = useTranslation([\"holidaysAndClosingForm\"]);\n\n\tconst dateRenderer = (value: boolean, record: PersonalHoliday) => {\n\t\tlet date;\n\n\t\tif (value && record.dateStart.toLocaleDateString() === record.dateEnd.toLocaleDateString()) {\n\t\t\tdate = record.dateStart.toLocaleDateString();\n\t\t} else {\n\t\t\tdate = record.dateStart.toLocaleDateString() + \" - \" + record.dateEnd.toLocaleDateString();\n\t\t}\n\n\t\treturn date;\n\t};\n\n\tconst deleteRenderer = (value: boolean, record: PersonalHoliday) => {\n\t\treturn (\n\t\t\t!record.isPast && (\n\t\t\t\t<Popconfirm\n\t\t\t\t\ttitle={t(\"messages:areYouSure\")}\n\t\t\t\t\tonConfirm={() => props.deleteHolidayPeriod(record.idPeriod)}\n\t\t\t\t\tokText={t(\"buttons:yes\")}\n\t\t\t\t\tcancelText={t(\"buttons:no\")}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\tdanger\n\t\t\t\t\t\ticon={TableIcons.getTableIcon(TableIcons.TableIcon.trash)}\n\t\t\t\t\t/>\n\t\t\t\t</Popconfirm>\n\t\t\t)\n\t\t);\n\t};\n\n\tconst personalHolidaysColumns = [\n\t\t{\n\t\t\ttitle: t(\"personalHolidaysNameColumn\"),\n\t\t\tdataIndex: \"namePeriod\",\n\t\t\talign: \"left\" as AlignType,\n\t\t\twidth: \"18rem\",\n\t\t\tellipsis: true,\n\t\t},\n\t\t{ title: t(\"personalHolidaysDateColumn\"), render: dateRenderer, align: \"left\" as AlignType },\n\t\t{ width: \"4rem\", render: deleteRenderer, align: \"center\" as AlignType },\n\t];\n\n\treturn (\n\t\t<Modal\n\t\t\ttitle={\n\t\t\t\t<>\n\t\t\t\t\t{Icons.getIconByCode(\"STOTE\", { color: \"inherit\" })}\n\t\t\t\t\t<span>{t(\"closingPeriodsTitle\", { locationName: props.nameLocation })}</span>\n\t\t\t\t</>\n\t\t\t}\n\t\t\tstyle={{ top: 40 }}\n\t\t\tonOk={undefined}\n\t\t\tonCancel={props.onCancel}\n\t\t\topen={props.visible && !props.newHolidayFormVisible}\n\t\t\tdestroyOnClose\n\t\t\twidth={600}\n\t\t\tfooter={[\n\t\t\t\t<Button key=\"back\" onClick={props.onCancel}>\n\t\t\t\t\t{\" \"}\n\t\t\t\t\t{t(\"buttons:close\")}{\" \"}\n\t\t\t\t</Button>,\n\t\t\t]}>\n\t\t\t<Row gutter={16} style={{ paddingBottom: \"0.5rem\" }}>\n\t\t\t\t<Col>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\ticon={<PlusCircleOutlined />}\n\t\t\t\t\t\tonClick={props.onClickNewHolidayForm}>\n\t\t\t\t\t\t{t(\"addClosingPeriodButton\")}\n\t\t\t\t\t</Button>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ticon={props.showPastPeriod ? <EyeInvisibleOutlined /> : <EyeOutlined />}\n\t\t\t\t\t\tonClick={props.onClickPastPeriod}>\n\t\t\t\t\t\t{props.showPastPeriod ? t(\"hidePastHolidayButton\") : t(\"showPastHolidayButton\")}\n\t\t\t\t\t</Button>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Table\n\t\t\t\tcolumns={personalHolidaysColumns}\n\t\t\t\tdataSource={props.holidays?.holidaysPeriodLocationList}\n\t\t\t\tsize=\"small\"\n\t\t\t\tpagination={false}\n\t\t\t/>\n\t\t</Modal>\n\t);\n};\n\nexport default ClosingPeriodForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}