{"ast":null,"code":"import{useEffect,useState}from\"react\";import{faFilter}from\"@fortawesome/free-solid-svg-icons\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{Button,Table,Drawer,Space}from\"antd\";import EmptyCard from\"comps/EmptyCard\";import PageOptions from\"comps/PageOptions\";import{useTranslation}from\"react-i18next\";import CarterasFilter from\"./CarterasFilter\";import tableColumns from\"./CarterasTableColums\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CarterasList=props=>{const{t}=useTranslation([\"carterasList\"]);const[forceReloadTimestamp,setForceReloadTimestamp]=useState(0);const[drawerIsOpen,setDrawerIsOpen]=useState(false);const[nameCartera,setNameCartera]=useState(undefined);const[nameGarantia,setNameGarantia]=useState(undefined);const openDrawer=()=>{setDrawerIsOpen(true);};const closeDrawer=()=>{setDrawerIsOpen(false);};useEffect(()=>{if(props.carteras&&props.carteras.length>0){setForceReloadTimestamp(new Date().getTime());}closeDrawer();},[props.carteras]);return/*#__PURE__*/_jsxs(\"div\",{className:\"listado_container\",children:[/*#__PURE__*/_jsx(Drawer,{className:\"filters-drawer\",open:drawerIsOpen,onClose:closeDrawer,width:\"300px\",placement:\"left\",getContainer:false,children:/*#__PURE__*/_jsx(CarterasFilter,{applyFilters:props.loadCarterasData,carteras:props.carteras?props.carteras:[],setNameCartera:setNameCartera,setNameGarantia:setNameGarantia,speciality:props.speciality,filterOptions:props.filterOptions,onChangeSearch:props.onChangeSearch,idGarantia:props.idGarantiaSelectedSet?props.idGarantiaSelectedSet:props.idGarantiaSelected})}),/*#__PURE__*/_jsx(PageOptions,{title:t(\"title\"),onPlusClicked:props.onClickEditCarteraForm}),/*#__PURE__*/_jsx(\"div\",{className:\"page--wrapper\",children:forceReloadTimestamp>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"table-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"table-container__header\",children:/*#__PURE__*/_jsx(Space,{size:\"small\",className:\"table-button-bar\",children:/*#__PURE__*/_jsx(Button,{onClick:openDrawer,className:\"filter-btn\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faFilter})})})}),!props.carteras||props.carteras.length===0?/*#__PURE__*/_jsx(EmptyCard,{searching:!!props.highlightfilter&&props.highlightfilter.length>0,description:t(\"addCartera\")}):/*#__PURE__*/_jsx(Table,{className:\"table__custom-expandable-icon\",columns:tableColumns(props.page,props.onClickEditCarteraForm,props.onClickDetails,props.onClickCompare,nameCartera,nameGarantia),pagination:{position:[\"bottomCenter\"],showSizeChanger:false,pageSize:props.limit,total:props.countData,current:props.page},onChange:value=>{if(value.current)props.loadCarterasData(value.current,nameCartera);},dataSource:props.carteras})]})})]});};export default CarterasList;","map":{"version":3,"names":["useEffect","useState","faFilter","FontAwesomeIcon","Button","Table","Drawer","Space","EmptyCard","PageOptions","useTranslation","CarterasFilter","tableColumns","jsx","_jsx","jsxs","_jsxs","CarterasList","props","t","forceReloadTimestamp","setForceReloadTimestamp","drawerIsOpen","setDrawerIsOpen","nameCartera","setNameCartera","undefined","nameGarantia","setNameGarantia","openDrawer","closeDrawer","carteras","length","Date","getTime","className","children","open","onClose","width","placement","getContainer","applyFilters","loadCarterasData","speciality","filterOptions","onChangeSearch","idGarantia","idGarantiaSelectedSet","idGarantiaSelected","title","onPlusClicked","onClickEditCarteraForm","size","onClick","icon","searching","highlightfilter","description","columns","page","onClickDetails","onClickCompare","pagination","position","showSizeChanger","pageSize","limit","total","countData","current","onChange","value","dataSource"],"sources":["/home/gpt2008/Desktop/Clubs/club/club/club-ui/src/pages/carteras/CarterasList.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport {  faFilter } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Button, Table, Drawer, Space } from \"antd\";\nimport EmptyCard from \"comps/EmptyCard\";\nimport PageOptions from \"comps/PageOptions\";\nimport { useTranslation } from \"react-i18next\";\nimport CarterasFilter from \"./CarterasFilter\";\nimport { IState as IStateContainer } from \"./CarterasListContainer\";\nimport tableColumns from \"./CarterasTableColums\";\n\ninterface IProps {\n\tonClickEditCarteraForm: (idCarteraselected?: number, nameCarteraselected?: string, nameGarantiasSelected?:string,idGarantiaSelected?: number) => void;\n\tonClickRemoveCartera: (idCartera: number, nameCartera: string,idGarantiaSelected: number) => void;\n\tcountData: number;\n\tpage: number;\n\tlimit: number\n\tloadCarterasData: (\n\t\toffset?: number | undefined,\n\t\tNameCartera?: string | undefined,\n        idGarantia?: number\n\t) => void;\n\tfilterOptions: (inputValue: string) => void;\n\tonChangeSearch: (idSpeciality?: number) => void;\n\tonClickDetails: (idCarteraSelected?: number, nameCarteraSelected?: string) => void;\n\tonClickCompare: (idCarteraSelected?: number, nameCarteraSelected?: string, idGarantiaSelected?: number, nameGarantiasSelected?:string) => void;\n}\n\nconst CarterasList = (props: IProps & IStateContainer) => {\n\tconst { t } = useTranslation([\"carterasList\"]);\n\n\tconst [forceReloadTimestamp, setForceReloadTimestamp] = useState<number>(0);\n\tconst [drawerIsOpen, setDrawerIsOpen] = useState(false);\n\tconst [nameCartera, setNameCartera] = useState<string|undefined>(undefined);\n    const [nameGarantia, setNameGarantia] = useState<string|undefined>(undefined);\n\n\tconst openDrawer = () => {\n\t\tsetDrawerIsOpen(true);\n\t};\n\n\tconst closeDrawer = () => {\n\t\tsetDrawerIsOpen(false);\n\t};\n\n\tuseEffect(() => {\n\t\tif (props.carteras && props.carteras.length > 0) {\n\t\t\tsetForceReloadTimestamp(new Date().getTime());\n\t\t}\n\t\tcloseDrawer();\n\t}, [props.carteras]);\n\n\treturn (\n\t\t<div className=\"listado_container\">\n\t\t\t<Drawer\n\t\t\t\t\tclassName=\"filters-drawer\"\n\t\t\t\t\topen={drawerIsOpen}\n\t\t\t\t\tonClose={closeDrawer}\n\t\t\t\t\twidth=\"300px\"\n\t\t\t\t\tplacement=\"left\"\n\t\t\t\t\tgetContainer={false}>\n\t\t\t\t\t<CarterasFilter \n\t\t\t\t\t\tapplyFilters={props.loadCarterasData}\n\t\t\t\t\t\tcarteras={props.carteras ? props.carteras : []}\n\t\t\t\t\t\tsetNameCartera={setNameCartera}\n\t\t\t\t\t\tsetNameGarantia={setNameGarantia}\n\t\t\t\t\t\tspeciality={props.speciality}\n\t\t\t\t\t\tfilterOptions={props.filterOptions}\n\t\t\t\t\t\tonChangeSearch={props.onChangeSearch} \n\t\t\t\t\t\tidGarantia={props.idGarantiaSelectedSet ? props.idGarantiaSelectedSet :  props.idGarantiaSelected}\n\t\t\t\t\t/>\n\t\t\t</Drawer>\n\t\t\t<PageOptions\n\t\t\t\ttitle={t(\"title\")}\n\t\t\t\tonPlusClicked={props.onClickEditCarteraForm}\n\t\t\t/>\n\n\t\t\t<div className=\"page--wrapper\">\n\t\t\t\t{forceReloadTimestamp > 0 && (\n\t\t\t\t\t<div className=\"table-container\">\n\t\t\t\t\t\t<div className=\"table-container__header\">\n\t\t\t\t\t\t\t<Space size=\"small\" className=\"table-button-bar\">\n\t\t\t\t\t\t\t\t<Button onClick={openDrawer} className=\"filter-btn\">\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faFilter} />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t</div> \n\t\t\t\t\t\t{!props.carteras || props.carteras.length === 0 ? (\n\t\t\t\t\t\t\t<EmptyCard\n\t\t\t\t\t\t\t\tsearching={!!props.highlightfilter && props.highlightfilter.length > 0}\n\t\t\t\t\t\t\t\tdescription={t(\"addCartera\")}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Table\n\t\t\t\t\t\t\t\tclassName=\"table__custom-expandable-icon\"\n\t\t\t\t\t\t\t\tcolumns={tableColumns(props.page,props.onClickEditCarteraForm, props.onClickDetails, props.onClickCompare ,nameCartera, nameGarantia)}\n\t\t\t\t\t\t\t\tpagination={{\n\t\t\t\t\t\t\t\t\tposition: [\"bottomCenter\"],\n\t\t\t\t\t\t\t\t\tshowSizeChanger: false,\n\t\t\t\t\t\t\t\t\tpageSize: props.limit,\n\t\t\t\t\t\t\t\t\ttotal: props.countData,\n\t\t\t\t\t\t\t\t\tcurrent: props.page,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\t\t\tif(value.current)\n\t\t\t\t\t\t\t\t\t\tprops.loadCarterasData(value.current, nameCartera);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tdataSource={props.carteras}\n\t\t\t\t\t\t/>)}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default CarterasList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}