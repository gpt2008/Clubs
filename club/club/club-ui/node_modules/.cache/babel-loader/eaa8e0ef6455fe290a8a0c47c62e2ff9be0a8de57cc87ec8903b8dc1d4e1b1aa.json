{"ast":null,"code":"import{Select}from\"antd\";import cx from\"classnames\";import _ from\"lodash\";import{useEffect,useState}from\"react\";import{useTranslation}from\"react-i18next\";import{jsx as _jsx}from\"react/jsx-runtime\";const OrganizationsDropdown=props=>{const{t}=useTranslation([\"agendasSchedule\"]);const[drop,setDrop]=useState([]);useEffect(()=>{var _props$organizations;const updated=(_props$organizations=props.organizations)===null||_props$organizations===void 0?void 0:_props$organizations.map(organization=>({value:organization.idOrganization,name:organization.nameOrganization,label:/*#__PURE__*/_jsx(\"div\",{className:\"providers-dropdown\",children:/*#__PURE__*/_jsx(\"div\",{className:\"providers-dropdown-item\",children:/*#__PURE__*/_jsx(\"div\",{className:cx(\"header--providers-dropdown-selector\",{selected:props.idOrganizationSelected===organization.idOrganization}),children:/*#__PURE__*/_jsx(\"div\",{className:cx(\"providers-name\",{selected:props.idOrganizationSelected===organization.idOrganization}),children:organization.nameOrganization})})})},organization.idOrganization)}));if(updated){setDrop(updated);}},[props.organizations,props.idOrganizationSelected]);const searchNameProvider=_.debounce(value=>{if(value){props.filterOptions(value);}else{props.filterOptions(\" \");}},500);useEffect(()=>{props.onChangeSearch(props.defaultOrgId);},[]);return/*#__PURE__*/_jsx(Select,{size:\"large\",style:props.style,autoFocus:true,options:drop,filterOption:false,showSearch:true,allowClear:true,value:props.idOrganizationSelected,placement:\"bottomLeft\",placeholder:t(\"inputOrg\"),defaultValue:props.defaultOrgId,onChange:idOrganization=>{props.onChangeSearch(idOrganization);},onSearch:inputValue=>{searchNameProvider(inputValue);},onClear:()=>{searchNameProvider(\" \");}});};export default OrganizationsDropdown;","map":{"version":3,"names":["Select","cx","_","useEffect","useState","useTranslation","jsx","_jsx","OrganizationsDropdown","props","t","drop","setDrop","_props$organizations","updated","organizations","map","organization","value","idOrganization","name","nameOrganization","label","className","children","selected","idOrganizationSelected","searchNameProvider","debounce","filterOptions","onChangeSearch","defaultOrgId","size","style","autoFocus","options","filterOption","showSearch","allowClear","placement","placeholder","defaultValue","onChange","onSearch","inputValue","onClear"],"sources":["/home/gpt2008/Desktop/Clubs/club/club/club-ui/src/components/filterDropdowns/organizationsDropdown/OrganizationsDropdown.tsx"],"sourcesContent":["import { Select } from \"antd\";\nimport { DefaultOptionType } from \"antd/es/select\";\nimport cx from \"classnames\";\nimport _ from \"lodash\";\nimport { CSSProperties, useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport Organization from \"types/entities/Organization\";\n\nconst OrganizationsDropdown = (props: {\n\tidOrganizationSelected?: number;\n\torganizations?: Organization[];\n\tonChangeSearch: (idOrganization: number) => void;\n\tfilterOptions: (inputValue: string) => void;\n\tdefaultOrgId?: number;\n\tstyle?: CSSProperties;\n}) => {\n\tconst { t } = useTranslation([\"agendasSchedule\"]);\n\n\tconst [drop, setDrop] = useState<DefaultOptionType[]>([]);\n\n\tuseEffect(() => {\n\t\tconst updated = props.organizations?.map((organization) => ({\n\t\t\tvalue: organization.idOrganization,\n\t\t\tname: organization.nameOrganization,\n\t\t\tlabel: (\n\t\t\t\t<div className=\"providers-dropdown\" key={organization.idOrganization}>\n\t\t\t\t\t<div className=\"providers-dropdown-item\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={cx(\"header--providers-dropdown-selector\", {\n\t\t\t\t\t\t\t\tselected: props.idOrganizationSelected === organization.idOrganization,\n\t\t\t\t\t\t\t})}>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={cx(\"providers-name\", {\n\t\t\t\t\t\t\t\t\tselected: props.idOrganizationSelected === organization.idOrganization,\n\t\t\t\t\t\t\t\t})}>\n\t\t\t\t\t\t\t\t{organization.nameOrganization}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t),\n\t\t}));\n\t\tif (updated) {\n\t\t\tsetDrop(updated);\n\t\t}\n\t}, [props.organizations, props.idOrganizationSelected]);\n\n\tconst searchNameProvider = _.debounce((value: string) => {\n\t\tif (value){\n\t\t\tprops.filterOptions(value);\n\t\t}\n\t\telse {\n\t\t\tprops.filterOptions(\" \");\n\t\t}\n\t}, 500);\n\n\tuseEffect(() => {\n\t\tprops.onChangeSearch(props.defaultOrgId!)\n    },[]);\n\n\treturn (\n\t\t<Select\n\t\t\tsize=\"large\"\n\t\t\tstyle={props.style}\n\t\t\tautoFocus\n\t\t\toptions={drop}\n\t\t\tfilterOption={false}\n\t\t\tshowSearch\n\t\t\tallowClear\n\t\t\tvalue={props.idOrganizationSelected}\n\t\t\tplacement=\"bottomLeft\"\n\t\t\tplaceholder={t(\"inputOrg\")}\n\t\t\tdefaultValue={props.defaultOrgId}\n\t\t\tonChange={(idOrganization) => {\n\t\t\t\tprops.onChangeSearch(idOrganization);\n\t\t\t}}\n\t\t\tonSearch={(inputValue) => {\n\t\t\t\tsearchNameProvider(inputValue);\n\t\t\t}}\n\t\t\tonClear={() => {\n\t\t\t\tsearchNameProvider(\" \");\n\t\t\t}}\n\t\t/>\n\t);\n};\n\nexport default OrganizationsDropdown;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}